<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Smart Food Delivery App Prototype</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
    <style>
:root {
  --color-bg: #f2f6f3;
  --color-surface: #ffffff;
  --color-surface-alt: #e7f1eb;
  --color-primary: #2d7a56;
  --color-primary-hover: #256648;
  --color-primary-light: #57b287;
  --color-accent: #4aa86b;
  --color-text: #1f2a24;
  --color-muted: #5a6c60;
  --color-border: #d5e0d8;
  --color-input-bg: #ffffff;
  --color-input-text: #1f2a24;
  --color-on-primary: #ffffff;
  --color-secondary-text: #2d7a56;
  --color-secondary-hover: rgba(87, 178, 135, 0.18);
  --color-focus-outline: rgba(87, 178, 135, 0.24);
  --color-focus-ring: rgba(87, 178, 135, 0.6);
  --scrollbar-thumb: rgba(45, 122, 86, 0.4);
  --shadow-sm: 0 6px 18px rgba(41, 71, 54, 0.08);
  --radius-lg: 20px;
  --radius-md: 14px;
  --radius-sm: 8px;
  --transition: 0.2s ease;
}

body[data-theme='dark'] {
  --color-bg: #101812;
  --color-surface: #17241d;
  --color-surface-alt: #1f2f25;
  --color-primary: #2f9f6f;
  --color-primary-hover: #3ab880;
  --color-primary-light: #49c891;
  --color-accent: #6ed09d;
  --color-text: #f1f7f2;
  --color-muted: #b8c7bd;
  --color-border: #2a3a31;
  --color-input-bg: #203329;
  --color-input-text: #f1f7f2;
  --color-on-primary: #0b1f15;
  --color-secondary-text: #6ed09d;
  --color-secondary-hover: rgba(110, 208, 157, 0.18);
  --color-focus-outline: rgba(110, 208, 157, 0.35);
  --color-focus-ring: rgba(110, 208, 157, 0.7);
  --scrollbar-thumb: rgba(110, 208, 157, 0.45);
  --shadow-sm: 0 6px 18px rgba(0, 0, 0, 0.35);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  color: var(--color-text);
  background: var(--color-bg);
  line-height: 1.6;
}

img {
  max-width: 100%;
  display: block;
}

a {
  color: inherit;
}

button,
input,
select,
textarea {
  font: inherit;
  color: inherit;
}

button {
  cursor: pointer;
}

button:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

.top-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: var(--color-surface);
  box-shadow: var(--shadow-sm);
  position: sticky;
  top: 0;
  z-index: 100;
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
}

.brand span {
  font-size: 1.75rem;
}

.brand-name {
  font-weight: 700;
  margin: 0;
}

.brand-tagline {
  margin: 2px 0 0;
  color: var(--color-muted);
  font-size: 0.85rem;
}

.main-nav {
  display: flex;
  overflow-x: auto;
  gap: 8px;
  padding-bottom: 4px;
}

.main-nav::-webkit-scrollbar {
  display: none;
}

.nav-btn {
  border: 1px solid var(--color-border);
  background: var(--color-surface);
  color: var(--color-muted);
  padding: 10px 18px;
  border-radius: 999px;
  font-weight: 600;
  transition: background-color var(--transition), color var(--transition), border-color var(--transition);
  white-space: nowrap;
}

.nav-btn:hover,
.nav-btn:focus-visible {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.nav-btn.active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-on-primary);
}

main {
  flex: 1 0 auto;
  padding: 0 20px 80px;
}

.view {
  display: block;
  margin: 28px auto;
  max-width: 1080px;
}

.view[hidden] {
  display: none !important;
}

.view-header h1 {
  margin: 0 0 6px;
  font-size: 1.7rem;
}

.view-instruction {
  margin: 0;
  color: var(--color-muted);
  font-size: 0.95rem;
}

.filter-panel {
  display: grid;
  gap: 16px;
  margin: 24px 0 32px;
  padding: 16px 12px 20px; 
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}


.field,
.field-group {
  display: flex;
  gap: 12px;
  flex-direction: column;
}

.primary-filters {
  width: 100%;
}

.primary-filters .field {
  width: 100%;
}

.filter-panel .toggles {
  grid-column: 1 / -1;
}

.field label {
  font-weight: 600;
}

.field input,
.field select,
.field textarea {
  padding: 12px;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  background: var(--color-input-bg);
  color: var(--color-input-text);
  transition: border-color var(--transition), background-color var(--transition), color var(--transition);
}

.field input:focus-visible,
.field select:focus-visible,
.field textarea:focus-visible {
  border-color: var(--color-primary);
  outline: none;
  box-shadow: 0 0 0 3px var(--color-focus-outline);
}

.field textarea {
  resize: vertical;
}

.field input::placeholder,
.field textarea::placeholder {
  color: var(--color-muted);
}

.output {
  font-weight: 600;
}

.toggles {
  flex-direction: row;
  gap: 20px;
  flex-wrap: wrap;
}

.toggle {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
}

.toggle input {
  width: 18px;
  height: 18px;
  accent-color: var(--color-primary);
}

/* align toggle filters with card edge */
.filter-panel .toggle {
  justify-content: flex-start;
  width: 100%;
}

.filter-panel .toggle input {
  margin-left: 0;
  margin-right: 8px;
  align-self: flex-start;
}

.section-title {
  margin: 0 0 4px;
  font-size: 1.2rem;
}

.section-subtitle {
  margin: 0 0 20px;
  color: var(--color-muted);
  font-size: 0.95rem;
}

.supplier-grid {
  display: grid;
  gap: 18px;
}

.supplier-card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border);
  padding: 22px;
  box-shadow: var(--shadow-sm);
  display: grid;
  gap: 18px;
  transition: transform var(--transition), box-shadow var(--transition);
}

.supplier-card:hover,
.supplier-card:focus-within {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px rgba(45, 122, 86, 0.16);
}

.supplier-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.supplier-name {
  font-size: 1.2rem;
  margin: 0;
}

.supplier-location {
  margin: 4px 0 0;
  color: var(--color-muted);
  font-size: 0.9rem;
}

.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 0.8rem;
  font-weight: 600;
  background: var(--color-surface-alt);
  color: var(--color-primary);
}

.supplier-body {
  display: grid;
  gap: 14px;
}

.supplier-description {
  margin: 0;
  color: var(--color-muted);
  font-size: 0.95rem;
  line-height: 1.55;
}

.supplier-meta {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  font-size: 0.9rem;
}

.supplier-meta span {
  display: flex;
  align-items: center;
  padding: 10px 12px;
  border-radius: var(--radius-sm);
  background: var(--color-surface-alt);
  color: var(--color-text);
  font-weight: 500;
  line-height: 1.45;
}

.supplier-content {
  display: grid;
  gap: 18px;
}

.supplier-actions {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.hamper-summary {
  background: var(--color-surface-alt);
  border-radius: var(--radius-md);
  padding: 18px;
  display: grid;
  gap: 8px;
}

.hamper-summary h4 {
  margin: 0;
  font-size: 1.05rem;
}

.hamper-summary p {
  margin: 0;
  color: var(--color-muted);
  font-size: 0.9rem;
  line-height: 1.5;
}

.hamper-summary p strong {
  color: var(--color-primary);
  font-size: 1.05rem;
}

.supplier-footnote {
  margin: 0;
  font-size: 0.85rem;
  color: var(--color-muted);
}

.action-row {
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
  flex-wrap: wrap;
}

.action-row button {
  width: 100%;
  max-width: 100%;
}

.primary-btn,
.secondary-btn,
.ghost-btn {
  border-radius: 999px;
  padding: 10px 20px;
  font-weight: 600;
  border: 1px solid transparent;
  transition: background-color var(--transition), color var(--transition), border-color var(--transition), box-shadow var(--transition);
}

.primary-btn {
  background: var(--color-primary);
  color: var(--color-on-primary);
}

.primary-btn:hover,
.primary-btn:focus-visible {
  background: var(--color-primary-hover);
}

.secondary-btn {
  background: var(--color-surface-alt);
  color: var(--color-secondary-text);
}

.secondary-btn:hover,
.secondary-btn:focus-visible {
  background: var(--color-secondary-hover);
}

.ghost-btn {
  background: transparent;
  border-color: var(--color-border);
  color: var(--color-text);
}

.ghost-btn:hover,
.ghost-btn:focus-visible {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.compare-panel {
  margin: 24px 0;
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

.comparison-table-container {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  overflow-x: auto;
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
}

.comparison-table th,
.comparison-table td {
  padding: 14px 20px;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.comparison-table tbody tr:last-child th,
.comparison-table tbody tr:last-child td {
  border-bottom: none;
}

.checkout-layout {
  display: grid;
  gap: 24px;
}

.cart,
.checkout-details {
  background: var(--color-surface);
  padding: 24px;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}

.cart h2,
.checkout-details h2 {
  margin-top: 0;
}

.cart-list {
  list-style: none;
  padding: 0;
  margin: 0 0 18px;
  display: grid;
  gap: 16px;
}

.cart-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  background: var(--color-surface-alt);
  border-radius: var(--radius-md);
  padding: 14px 16px;
}

.cart-item-info {
  display: grid;
  gap: 4px;
}

.cart-item-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.cart-total {
  display: flex;
  justify-content: space-between;
  font-size: 1.1rem;
  font-weight: 700;
}

.empty-state {
  margin: 12px 0;
  color: var(--color-muted);
}

.order-status {
  min-height: 24px;
  margin-top: 12px;
  font-weight: 600;
  color: var(--color-primary);
}

.tracking-card {
  background: var(--color-surface);
  padding: 24px;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  display: grid;
  gap: 20px;
}

.tracking-map {
  border-radius: var(--radius-md);
  background: linear-gradient(135deg, rgba(45, 122, 86, 0.08), rgba(87, 178, 135, 0.18));
  padding: 18px;
  display: grid;
  gap: 16px;
}

.map-canvas {
  position: relative;
  height: 220px;
  border-radius: var(--radius-md);
  overflow: hidden;
  background: linear-gradient(160deg, rgba(45, 122, 86, 0.12), rgba(87, 178, 135, 0.24));
}

.map-canvas::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: repeating-linear-gradient(0deg, rgba(255, 255, 255, 0.08) 0 1px, transparent 1px 28px),
    repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.08) 0 1px, transparent 1px 28px);
  opacity: 0.45;
  pointer-events: none;
}

.map-backdrop {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.map-backdrop * {
  transition: opacity var(--transition);
}

.map-block {
  fill: rgba(255, 255, 255, 0.18);
  stroke: rgba(255, 255, 255, 0.14);
  stroke-width: 2;
  backdrop-filter: saturate(130%);
}

.map-block--market {
  fill: rgba(87, 178, 135, 0.32);
}

.map-block--community {
  fill: rgba(45, 122, 86, 0.28);
}

.map-water {
  fill: rgba(48, 148, 196, 0.28);
  stroke: rgba(255, 255, 255, 0.35);
  stroke-width: 2;
}

.map-park {
  fill: rgba(120, 190, 140, 0.3);
  stroke: rgba(255, 255, 255, 0.28);
  stroke-width: 2;
  stroke-dasharray: 10 8;
}

.map-block--tower {
  fill: rgba(255, 255, 255, 0.24);
}

.map-street {
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.map-street--main {
  stroke: rgba(255, 255, 255, 0.82);
  stroke-width: 7;
}

.map-street--secondary {
  stroke: rgba(255, 255, 255, 0.55);
  stroke-width: 4;
  stroke-dasharray: 6 10;
}

.map-poi {
  fill: var(--color-on-primary);
  stroke: var(--color-primary);
  stroke-width: 2;
  opacity: 0.9;
  transform-origin: center;
  transform-box: fill-box;
  animation: poiPulse 5.5s ease-in-out infinite;
}

.map-poi--drop {
  stroke: rgba(255, 255, 255, 0.75);
  fill: rgba(255, 255, 255, 0.85);
  animation-delay: 1.2s;
}

.map-canvas:hover .map-block {
  opacity: 0.9;
}

.map-path {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

.map-path path {
  fill: none;
}

.map-path-track {
  stroke: rgba(255, 255, 255, 0.6);
  stroke-width: 4;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 8 14;
  animation: routeDash 6s linear infinite;
}

.map-path-progress {
  stroke: var(--color-primary);
  stroke-width: 5;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 240;
  stroke-dashoffset: 240;
  animation: routeProgress 12s ease-in-out infinite;
  filter: drop-shadow(0 0 6px rgba(45, 122, 86, 0.28));
}

.map-pin {
  position: absolute;
  display: flex;
  gap: 10px;
  align-items: flex-start;
  max-width: 210px;
}

.map-pin-dot {
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: var(--color-primary);
  box-shadow: 0 0 0 4px rgba(45, 122, 86, 0.18);
  margin-top: 6px;
}

.map-pin-info {
  background: var(--color-surface);
  padding: 10px 12px;
  border-radius: var(--radius-sm);
  box-shadow: 0 10px 24px rgba(31, 42, 36, 0.12);
  display: grid;
  gap: 4px;
}

.map-pin-title {
  font-weight: 600;
  font-size: 0.95rem;
}

.map-pin-subtitle {
  font-size: 0.85rem;
  color: var(--color-muted);
  line-height: 1.4;
}

.map-pickup {
  bottom: 24px;
  left: 32px;
}

.map-dropoff {
  top: 26px;
  right: 26px;
  align-items: flex-end;
}

.map-dropoff .map-pin-info {
  text-align: right;
}

.map-driver-bubble {
  background: var(--color-surface);
  border-radius: var(--radius-md);
  padding: 12px 14px;
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-wrap: wrap;
  gap: 10px 16px;
  align-items: flex-start;
}

.driver-badge {
  background: rgba(45, 122, 86, 0.14);
  color: var(--color-primary);
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 0.85rem;
  font-weight: 600;
}


.driver-status {
  font-size: 0.9rem;
  color: var(--color-primary);
  font-weight: 600;
}

.tracking-steps {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 12px;
}

.tracking-step {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 18px;
  border-radius: var(--radius-md);
  background: var(--color-surface-alt);
  color: var(--color-muted);
  transition: var(--transition);
}

.tracking-detail {
  font-size: 0.9rem;
}

.tracking-step.active {
  background: rgba(87, 178, 135, 0.18);
  color: var(--color-primary);
  font-weight: 600;
}

.progress-bar {
  height: 8px;
  border-radius: 999px;
  background: rgba(45, 122, 86, 0.16);
  overflow: hidden;
}

.progress-indicator {
  height: 100%;
  width: 0;
  background: var(--color-primary);
  transition: width 0.4s ease;
}

@keyframes routeDash {
  0% {
    stroke-dashoffset: 0;
  }
  100% {
    stroke-dashoffset: -80;
  }
}

@keyframes routeProgress {
  0% {
    stroke-dashoffset: 240;
  }
  60% {
    stroke-dashoffset: 140;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

@keyframes poiPulse {
  0% {
    transform: scale(0.9);
    opacity: 0.7;
  }
  50% {
    transform: scale(1.15);
    opacity: 1;
  }
  100% {
    transform: scale(0.9);
    opacity: 0.7;
  }
}

.report-grid {
  display: grid;
  gap: 20px;
}

.report-card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: 24px;
  box-shadow: var(--shadow-sm);
  display: grid;
  gap: 8px;
}

.report-card h2 {
  margin: 0;
}

.report-value {
  font-size: 2rem;
  font-weight: 700;
  color: var(--color-primary);
  margin: 0;
}

.report-detail {
  margin: 0;
  color: var(--color-muted);
}

.settings-grid {
  display: grid;
  gap: 20px;
}

.settings-card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: 24px;
  box-shadow: var(--shadow-sm);
  display: grid;
  gap: 12px;
}

.settings-card h2 {
  margin: 0;
}

.settings-card p {
  margin: 0;
  color: var(--color-muted);
}


.app-footer {
  padding: 24px 20px;
  text-align: center;
  color: var(--color-muted);
  font-size: 0.85rem;
}

.nav-btn:focus-visible,
.primary-btn:focus-visible,
.secondary-btn:focus-visible,
.ghost-btn:focus-visible,
.supplier-card:focus-visible,
#reset-tracking:focus-visible {
  outline: 3px solid var(--color-focus-ring);
  outline-offset: 2px;
}

#app:focus {
  outline: none;
}

.phone-shell,
.phone-screen,
.phone-content {
  display: contents;
}

.phone-notch,
.status-bar,
.home-indicator {
  display: none;
}

#phone-frame {
  width: 100%;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  background: var(--color-bg);
  transition: all 0.3s ease;
}

body.mobile-preview {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 32px 0;
  background: var(--color-bg);
  width: 100%;
  overflow: hidden;
}

body.mobile-preview #phone-frame {
  width: min(480px, calc(100vw - 36px));
  height: 1000px; 
  max-height: 120vh; 
  border-radius: 44px;
  background: linear-gradient(160deg, rgba(45, 122, 86, 0.18), rgba(87, 178, 135, 0.32));
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 28px 60px rgba(16, 24, 18, 0.35);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

body.mobile-preview[data-theme='dark'] #phone-frame {
  border-color: rgba(42, 58, 49, 0.8);
  background: linear-gradient(160deg, rgba(32, 51, 41, 0.9), rgba(17, 27, 20, 0.96));
  box-shadow: 0 32px 72px rgba(0, 0, 0, 0.55);
}

body.mobile-preview .phone-shell {
  width: 100%;
  height: 100%;
  padding: 16px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

body.mobile-preview .phone-notch {
  display: block;
  width: 120px;
  height: 18px;
  border-radius: 0 0 20px 20px;
  background: rgba(31, 42, 36, 0.25);
  position: relative;
}

body.mobile-preview[data-theme='dark'] .phone-notch {
  background: rgba(0, 0, 0, 0.6);
}

body.mobile-preview .phone-notch::after {
  content: '';
  position: absolute;
  top: 5px;
  left: 50%;
  transform: translateX(-50%);
  width: 26px;
  height: 6px;
  border-radius: 999px;
  background: rgba(0, 0, 0, 0.28);
}

body.mobile-preview[data-theme='dark'] .phone-notch::after {
  background: rgba(255, 255, 255, 0.18);
}

body.mobile-preview .phone-screen {
  flex: 1;
  width: 100%;
  display: flex;
  flex-direction: column;
  background: var(--color-surface);
  border-radius: 28px;
  overflow: hidden;
  box-shadow: 0 18px 36px rgba(16, 24, 18, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

body.mobile-preview[data-theme='dark'] .phone-screen {
  border-color: rgba(42, 58, 49, 0.65);
}

body.mobile-preview .status-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 18px 6px;
  font-size: 0.78rem;
  font-weight: 600;
  letter-spacing: 0.08em;
  color: var(--color-text);
  opacity: 0.9;
}

body.mobile-preview .status-icons {
  display: flex;
  align-items: center;
  gap: 6px;
}

body.mobile-preview .status-signal,
body.mobile-preview .status-wifi,
body.mobile-preview .status-battery {
  position: relative;
  display: block;
}

body.mobile-preview .status-signal {
  width: 14px;
  height: 10px;
}

body.mobile-preview .status-signal::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 2px;
  height: 4px;
  background: var(--color-text);
  border-radius: 1px;
  box-shadow:
    3px -1px 0 0 var(--color-text),
    6px -3px 0 0 var(--color-text),
    9px -5px 0 0 var(--color-text);
}

body.mobile-preview .status-wifi {
  width: 14px;
  height: 10px;
}

body.mobile-preview .status-wifi::before {
  content: '';
  position: absolute;
  inset: 0;
  border: 1.5px solid var(--color-text);
  border-radius: 50%;
  border-bottom-color: transparent;
}

body.mobile-preview .status-wifi::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: var(--color-text);
}

body.mobile-preview .status-battery {
  width: 18px;
  height: 10px;
  border: 1.5px solid var(--color-text);
  border-radius: 3px;
  padding: 1px;
  display: flex;
  align-items: center;
}

body.mobile-preview .status-battery::after {
  content: '';
  position: absolute;
  top: 3px;
  right: -3px;
  width: 2px;
  height: 4px;
  border-radius: 1px;
  background: var(--color-text);
}

body.mobile-preview .status-battery-level {
  width: 70%;
  height: 100%;
  border-radius: 2px;
  background: var(--color-text);
}

body.mobile-preview .phone-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  padding: 4px 18px 24px;
  gap: 0;
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) transparent;
  scrollbar-gutter: stable both-edges;
}

body.mobile-preview .phone-content::-webkit-scrollbar {
  width: 6px;
}

body.mobile-preview .phone-content::-webkit-scrollbar-track {
  background: transparent;
}

body.mobile-preview .phone-content::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  border-radius: 999px;
}

body.mobile-preview .top-bar {
  border-radius: 22px;
  margin: 0;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: var(--shadow-sm);
  padding: 14px 16px;
}

body.mobile-preview main#app {
  padding: 0;
  width: 100%;
  flex: 1 0 auto;
}

.supplier-grid {
  display: grid;
  gap: 18px;
}

body.mobile-preview .view {
  margin: 18px 0;
  max-width: 100%;
  width: 100%;
}

body.mobile-preview .supplier-grid {
  grid-template-columns: 1fr;
  gap: 18px;
}

body.mobile-preview .tracking-map {
  padding: 14px;
}

body.mobile-preview .map-canvas {
  height: 200px;
}

body.mobile-preview .map-driver-bubble {
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
}

body.mobile-preview .driver-badge {
  width: auto;
}

body.mobile-preview .supplier-content {
  grid-template-columns: 1fr;
  gap: 16px;
}

body.mobile-preview .supplier-actions {
  justify-content: flex-start;
}

body.mobile-preview .action-row {
  flex-direction: column;
}

body.mobile-preview .action-row button {
  width: 100%;
}

body.mobile-preview .filter-panel {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 18px 16px;
}

body.mobile-preview .field-group {
  flex-direction: column;
  gap: 14px;
}

body.mobile-preview .field,
body.mobile-preview .field-group .field {
  width: 100%;
}

body.mobile-preview .filter-panel .field input,
body.mobile-preview .filter-panel .field select,
body.mobile-preview .filter-panel .field textarea {
  width: 100%;
}

body.mobile-preview .toggles {
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;
}

body.mobile-preview .toggle {
  width: 100%;
  justify-content: flex-start;
}

body.mobile-preview .toggle span {
  flex: 0 1 auto;
}

body.mobile-preview .checkout-layout {
  grid-template-columns: 1fr;
  gap: 16px;
}

body.mobile-preview .report-grid {
  grid-template-columns: 1fr;
  gap: 16px;
}

body.mobile-preview .app-footer {
  width: 100%;
  border-radius: 0 0 26px 26px;
  padding: 18px 16px;
  background: var(--color-surface-alt);
}

body.mobile-preview .main-nav {
  justify-content: flex-start;
  gap: 8px;
  padding: 8px 0 0;
  overflow-x: auto;
}

body.mobile-preview .home-indicator {
  display: block;
  width: 100px;
  height: 5px;
  border-radius: 999px;
  background: rgba(31, 42, 36, 0.28);
}

body.mobile-preview[data-theme='dark'] .home-indicator {
  background: rgba(241, 247, 242, 0.35);
}

@media (min-width: 720px) {
  .filter-panel {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .field-group {
    flex-direction: row;
    align-items: flex-end;
  }

  .field-group .field {
    flex: 1;
  }

  .primary-filters {
    gap: 16px;
  }

  .primary-filters .search-field {
    flex: 1.4;
  }

  .primary-filters .price-field {
    flex: 0.7;
    min-width: 180px;
  }

  .primary-filters .distance-field {
    flex: 0.9;
    min-width: 220px;
  }

  .supplier-card {
    padding: 24px;
    gap: 20px;
  }

  .supplier-content {
    grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.8fr);
    gap: 22px;
    align-items: stretch;
  }

  .supplier-actions {
    justify-content: space-between;
  }

  .action-row {
    flex-direction: row;
    align-items: flex-start;
    flex-wrap: wrap;
    gap: 12px;
  }

  .action-row button {
    width: auto;
    max-width: 100%;
  }

  .tracking-map {
    padding: 20px;
  }

  .map-canvas {
    height: 240px;
  }

  .map-driver-bubble {
    align-items: center;
    gap: 10px 20px;
  }
}

@media (min-width: 960px) {
  .supplier-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .checkout-layout {
    grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
    align-items: start;
  }

  .report-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

</style>
  </head>
  <body>
    <div id="phone-frame">
      <div class="phone-shell">
        <div class="phone-notch" aria-hidden="true"></div>
        <div class="phone-screen">
          <div class="status-bar" aria-hidden="true">
            <span class="status-time">9:41</span>
            <div class="status-icons" aria-hidden="true">
              <span class="status-signal"></span>
              <span class="status-wifi"></span>
              <span class="status-battery"><span class="status-battery-level"></span></span>
            </div>
          </div>
          <div class="phone-content">
    <header class="top-bar">
      <div class="brand">
        <span aria-hidden="true">&#129379;</span>
      <div>
        <p class="brand-name" data-i18n="brandName">Smart Food Delivery</p>
        <p class="brand-tagline" data-i18n="brandTagline">Sustainable meals for remote communities</p>
      </div>
      </div>
      <nav class="main-nav" aria-label="Primary" data-i18n-aria-label="navAriaLabel">
        <button class="nav-btn" data-target="home-view" data-i18n="navSearch">Search</button>
        <button class="nav-btn" data-target="compare-view" data-i18n="navCompare">Compare</button>
        <button class="nav-btn" data-target="checkout-view" data-i18n="navCheckout">Checkout</button>
        <button class="nav-btn" data-target="tracking-view" data-i18n="navTracking">Tracking</button>
        <button class="nav-btn" data-target="report-view" data-i18n="navReport">Report</button>
        <button class="nav-btn" data-target="settings-view" data-i18n="navSettings">Settings</button>
      </nav>
    </header>

    <main id="app" tabindex="-1">
      <section id="home-view" class="view active" aria-labelledby="home-title">
        <header class="view-header">
          <h1 id="home-title" data-i18n="homeTitle">Find nearby food suppliers</h1>
          <p class="view-instruction" data-i18n="homeInstruction">Task 1: Use the filters to locate affordable, low-carbon options that deliver to your area.</p>
        </header>

        <form id="filter-form" class="filter-panel" aria-label="Search filters" data-i18n-aria-label="filtersAriaLabel">
          <div class="field-group primary-filters">
            <div class="field search-field">
              <label for="search-input" data-i18n="searchLabel">Search by name or location</label>
              <input id="search-input" type="search" data-i18n-placeholder="searchPlaceholder" placeholder="Try 'Outback' or 'Remote'" />
            </div>

            <div class="field price-field">
              <label for="price-filter" data-i18n="priceLabel">Price band</label>
              <select id="price-filter">
                <option value="all" data-i18n="priceAny">Any</option>
                <option value="$" data-i18n="priceLow">$ - Lowest cost</option>
                <option value="$$" data-i18n="priceMid">$$ - Balanced</option>
                <option value="$$$" data-i18n="priceHigh">$$$ - Premium</option>
              </select>
            </div>

            <div class="field distance-field">
              <label for="distance-filter" data-i18n="distanceLabel">Max distance (km)</label>
              <input id="distance-filter" type="range" min="5" max="60" value="40" step="5" />
              <output id="distance-output" for="distance-filter">40 km</output>
            </div>
          </div>

          <div class="field toggles">
            <label class="toggle">
              <input id="surplus-toggle" type="checkbox" />
              <span data-i18n="surplusLabel">Show surplus food offers only</span>
            </label>
            <label class="toggle">
              <input id="delivery-toggle" type="checkbox" checked />
              <span data-i18n="deliveryLabel">Delivery available</span>
            </label>
          </div>
        </form>

        <section aria-live="polite" aria-atomic="true">
          <h2 class="section-title" data-i18n="suppliersTitle">Suppliers near you</h2>
          <p class="section-subtitle" data-i18n="suppliersSubtitle">Tap a card to compare or add a community hamper to your cart.</p>
          <div id="supplier-grid" class="supplier-grid"></div>
        </section>
      </section>

      <section id="compare-view" class="view" aria-labelledby="compare-title" hidden>
        <header class="view-header">
          <h1 id="compare-title" data-i18n="compareTitle">Compare suppliers</h1>
          <p class="view-instruction" data-i18n="compareInstruction">Task 2: Choose two suppliers to see how they differ in freshness, price, and emissions.</p>
        </header>

        <div class="compare-panel">
          <div class="field">
            <label for="compare-a" data-i18n="compareSupplierA">Supplier A</label>
            <select id="compare-a"></select>
          </div>
          <div class="field">
            <label for="compare-b" data-i18n="compareSupplierB">Supplier B</label>
            <select id="compare-b"></select>
          </div>
        </div>

        <div class="comparison-table-container">
          <table class="comparison-table" aria-describedby="compare-title">
            <thead>
              <tr>
                <th scope="col" data-i18n="compareMetricHeading">Metric</th>
                <th scope="col" id="compare-name-a">Supplier A</th>
                <th scope="col" id="compare-name-b">Supplier B</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row" data-i18n="compareMetricPrice">Price</th>
                <td data-metric="price-a"></td>
                <td data-metric="price-b"></td>
              </tr>
              <tr>
                <th scope="row" data-i18n="compareMetricFreshness">Freshness score</th>
                <td data-metric="freshness-a"></td>
                <td data-metric="freshness-b"></td>
              </tr>
              <tr>
                <th scope="row" data-i18n="compareMetricCO2">Delivery CO2 impact</th>
                <td data-metric="co2-a"></td>
                <td data-metric="co2-b"></td>
              </tr>
              <tr>
                <th scope="row" data-i18n="compareMetricDistance">Distance</th>
                <td data-metric="distance-a"></td>
                <td data-metric="distance-b"></td>
              </tr>
              <tr>
                <th scope="row" data-i18n="compareMetricSurplus">Surplus food</th>
                <td data-metric="surplus-a"></td>
                <td data-metric="surplus-b"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section id="checkout-view" class="view" aria-labelledby="checkout-title" hidden>
        <header class="view-header">
          <h1 id="checkout-title" data-i18n="checkoutTitle">Review and place your order</h1>
          <p class="view-instruction" data-i18n="checkoutInstruction">Task 3: Confirm the items in your hamper, then place the order to start tracking.</p>
        </header>

        <div class="checkout-layout">
          <section class="cart" aria-label="Cart contents" data-i18n-aria-label="cartAriaLabel">
            <h2 data-i18n="cartSummary">Cart summary</h2>
            <ul id="cart-list" class="cart-list"></ul>
            <p id="cart-empty" class="empty-state" data-i18n="cartEmpty">Your hamper is empty. Add items from the search view.</p>
            <div class="cart-total">
              <span data-i18n="totalLabel">Total</span>
              <strong id="cart-total">$0.00</strong>
            </div>
          </section>

          <section class="checkout-details" aria-label="Delivery preferences" data-i18n-aria-label="deliveryAriaLabel">
            <h2 data-i18n="deliveryPreferences">Delivery preferences</h2>
            <div class="field">
              <label for="delivery-window" data-i18n="deliveryWindow">Delivery window</label>
              <select id="delivery-window">
                <option value="11:00 - 13:00" data-i18n="deliveryWindowMorning">11:00 - 13:00</option>
                <option value="13:00 - 15:00" data-i18n="deliveryWindowAfternoon">13:00 - 15:00</option>
                <option value="17:00 - 19:00" data-i18n="deliveryWindowEvening">17:00 - 19:00</option>
              </select>
            </div>

            <div class="field">
              <label for="contact-note" data-i18n="driverNote">Driver note</label>
              <textarea id="contact-note" rows="3" data-i18n-placeholder="driverNotePlaceholder" placeholder="Add directions or access notes"></textarea>
            </div>

            <button id="place-order" class="primary-btn" type="button" disabled data-i18n="placeOrder">Place order</button>
            <p id="order-status" class="order-status" role="status" aria-live="polite"></p>
            <button id="go-to-tracking" class="secondary-btn" type="button" hidden data-i18n="goToTracking">Go to tracking</button>
          </section>
        </div>
      </section>

      <section id="tracking-view" class="view" aria-labelledby="tracking-title" hidden>
        <header class="view-header">
          <h1 id="tracking-title" data-i18n="trackingTitle">Track your delivery</h1>
          <p class="view-instruction" data-i18n="trackingInstruction">Task 3 (continued): Follow the delivery stages to monitor when food arrives.</p>
        </header>

        <section class="tracking-card" aria-live="polite">
          <div class="tracking-map">
            <div class="map-canvas" role="img" aria-label="Stylised delivery map showing courier route" data-i18n-aria-label="mapAriaLabel">
              <svg class="map-backdrop" viewBox="0 0 300 200" preserveAspectRatio="xMidYMid meet" aria-hidden="true">
                <path class="map-water" d="M214 18 Q296 30 290 114 Q284 156 236 166 Q204 170 190 140 Q210 108 218 88 Z" />
                <path class="map-park" d="M14 76 Q34 18 96 24 Q88 64 32 114 Z" />
                <rect class="map-block map-block--residential" x="20" y="122" width="80" height="52" rx="14" />
                <rect class="map-block map-block--residential" x="112" y="132" width="64" height="50" rx="14" />
                <rect class="map-block map-block--market" x="46" y="42" width="90" height="52" rx="16" />
                <rect class="map-block map-block--community" x="188" y="108" width="90" height="62" rx="18" />
                <rect class="map-block map-block--tower" x="150" y="62" width="54" height="40" rx="12" />
                <path class="map-street map-street--main" d="M16 156 H268" />
                <path class="map-street map-street--secondary" d="M62 156 V116" />
                <path class="map-street map-street--secondary" d="M124 156 V108" />
                <path class="map-street map-street--secondary" d="M124 108 L232 132" />
                <path class="map-street map-street--secondary" d="M208 156 H268" />
                <circle class="map-poi map-poi--pickup" cx="62" cy="156" r="7" />
                <circle class="map-poi map-poi--drop" cx="224" cy="132" r="6" />
              </svg>
              <svg class="map-path" viewBox="0 0 300 200" preserveAspectRatio="xMidYMid meet" aria-hidden="true">
                <path class="map-path-track" d="M62 156 H124 V108 L224 132" />
                <path class="map-path-progress" d="M62 156 H124 V108 L224 132" />
              </svg>
              <div class="map-pin map-pickup">
                <span class="map-pin-dot" aria-hidden="true"></span>
                <div class="map-pin-info">
                  <span class="map-pin-title" data-i18n="mapPickupTitle">Pickup hub</span>
                  <span class="map-pin-subtitle" data-i18n="mapPickupSubtitle">Volunteers are packing the hamper</span>
                </div>
              </div>
              <div class="map-pin map-dropoff">
                <span class="map-pin-dot" aria-hidden="true"></span>
                <div class="map-pin-info">
                  <span class="map-pin-title" data-i18n="mapDropoffTitle">Community drop-off</span>
                  <span class="map-pin-subtitle" data-i18n="mapDropoffSubtitle">Shared cool locker near you</span>
                </div>
              </div>
            </div>
            <div class="map-driver-bubble">
              <span class="driver-badge" data-i18n="mapCourierLabel">Courier Jade</span>
              <span class="driver-status" data-i18n="mapCourierStatusPickup">Heading to the pickup hub</span>
            </div>
          </div>
          <ol class="tracking-steps" id="tracking-steps"></ol>
          <div class="progress-bar" aria-hidden="true">
            <div id="progress-indicator" class="progress-indicator"></div>
          </div>
          <button id="reset-tracking" class="secondary-btn" type="button" data-i18n="trackingRestart">Restart tracking demo</button>
        </section>
      </section>

      <section id="report-view" class="view" aria-labelledby="report-title" hidden>
        <header class="view-header">
          <h1 id="report-title" data-i18n="reportTitle">Savings & sustainability report</h1>
          <p class="view-instruction" data-i18n="reportInstruction">Optional Task: Review your impact after ordering surplus community hampers.</p>
        </header>

        <div class="report-grid">
          <article class="report-card">
            <h2 data-i18n="reportSavingsTitle">Money saved</h2>
            <p class="report-value" id="report-savings">$0.00</p>
            <p class="report-detail" data-i18n="reportSavingsDetail">Compared to standard metropolitan deliveries.</p>
          </article>
          <article class="report-card">
            <h2 data-i18n="reportCo2Title">CO2 avoided</h2>
            <p class="report-value" id="report-co2">0.0 kg</p>
            <p class="report-detail" data-i18n="reportCo2Detail">Estimated from lower delivery distances and surplus rescue.</p>
          </article>
          <article class="report-card">
            <h2 data-i18n="reportMealsTitle">Meals rescued</h2>
            <p class="report-value" id="report-meals">0</p>
            <p class="report-detail" data-i18n="reportMealsDetail">Surplus portions diverted from waste this month.</p>
          </article>
        </div>
      </section>

      <section id="settings-view" class="view" aria-labelledby="settings-title" hidden>
        <header class="view-header">
          <h1 id="settings-title" data-i18n="settingsTitle">Settings</h1>
          <p class="view-instruction" data-i18n="settingsInstruction">Adjust theme, language, and preview mode for your study participants.</p>
        </header>

        <div class="settings-grid">
          <article class="settings-card">
            <h2 data-i18n="appearanceHeading">Appearance</h2>
            <p data-i18n="appearanceDescription">Switch between day and night modes to test readability.</p>
            <button id="theme-toggle" class="primary-btn" type="button">Switch to night mode</button>
          </article>

          <article class="settings-card">
            <h2 data-i18n="languageHeading">Language</h2>
            <p data-i18n="languageDescription">Preview the interface in multiple languages.</p>
            <div class="field">
              <label for="language-select" data-i18n="languageLabel">Interface language</label>
              <select id="language-select"></select>
            </div>
          </article>

          <article class="settings-card">
            <h2 data-i18n="previewHeading">Mobile preview</h2>
            <p data-i18n="previewDescription">Simulate the phone layout inside the browser.</p>
            <button id="mobile-toggle" class="secondary-btn" type="button">Enable mobile frame</button>
          </article>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <p data-i18n="footerNote">INFO3315 Smart Food Delivery Prototype &middot; Designed for remote community resilience</p>
    </footer>
          </div>
        </div>
        <div class="home-indicator" aria-hidden="true"></div>
      </div>
    </div>

    <script>
const suppliers = [
  {
    id: 'outback-grocer',
    name: 'Outback Grocer',
    location: 'Alice Springs, NT',
    price: '$',
    averageBasket: 24.5,
    distance: 12,
    surplus: true,
    delivery: true,
    co2: 8,
    freshness: 8,
    description: 'Family-run grocer partnering with remote community hubs for surplus distribution.',
    items: [
      {
        id: 'outback-hamper',
        name: 'Remote Essentials Hamper',
        price: 24.5,
        servings: 4,
        savings: 12,
        co2Saved: 2.1,
        meals: 4,
        notes: 'Staples rescued from metro surplus: oats, long-life milk, bush herbs, seasonal produce.'
      }
    ]
  },
  {
    id: 'green-market',
    name: 'Green Market',
    location: 'Broken Hill, NSW',
    price: '$$',
    averageBasket: 32.0,
    distance: 5,
    surplus: false,
    delivery: true,
    co2: 6,
    freshness: 9,
    description: 'Hydroponic growers delivering weekly produce boxes using solar-powered vans.',
    items: [
      {
        id: 'green-harvest',
        name: 'Hydro Harvest Pack',
        price: 32,
        servings: 5,
        savings: 8,
        co2Saved: 1.3,
        meals: 5,
        notes: 'Leafy greens, tomatoes, and herbs grown with recycled water.'
      }
    ]
  },
  {
    id: 'remote-foods',
    name: 'Remote Foods',
    location: 'Katherine, NT',
    price: '$',
    averageBasket: 22.0,
    distance: 30,
    surplus: true,
    delivery: true,
    co2: 5,
    freshness: 7,
    description: 'Community co-op aggregating surplus produce from regional farms.',
    items: [
      {
        id: 'remote-hamper',
        name: 'Community Pantry Box',
        price: 22,
        servings: 3,
        savings: 9,
        co2Saved: 2.5,
        meals: 3,
        notes: 'Tinned beans, root vegetables, fresh bread, and pantry staples.'
      }
    ]
  },
  {
    id: 'bush-bites',
    name: 'Bush Bites Collective',
    location: 'Dubbo, NSW',
    price: '$$',
    averageBasket: 29.5,
    distance: 18,
    surplus: true,
    delivery: true,
    co2: 7,
    freshness: 8,
    description: 'Aboriginal-owned collective sharing culturally significant produce and meals.',
    items: [
      {
        id: 'bush-share',
        name: 'Bush Tucker Share Pack',
        price: 29.5,
        servings: 4,
        savings: 10,
        co2Saved: 1.9,
        meals: 4,
        notes: 'Kangaroo stew, lemon myrtle damper, native greens, and seasonal fruit.'
      }
    ]
  },
  {
    id: 'sunrise-co',
    name: 'Sunrise Co-Op',
    location: 'Longreach, QLD',
    price: '$$$',
    averageBasket: 38.0,
    distance: 22,
    surplus: false,
    delivery: true,
    co2: 9,
    freshness: 9,
    description: 'Solar chilled trucks delivering protein-rich hampers to cattle stations.',
    items: [
      {
        id: 'sunrise-protein',
        name: 'Protein Boost Crate',
        price: 38,
        servings: 6,
        savings: 5,
        co2Saved: 0.8,
        meals: 6,
        notes: 'Free-range eggs, legumes, yoghurt, and seasonal fruit.'
      }
    ]
  }
];

const languageOptions = [
  { value: 'en', labelKey: 'languageEnglish' },
  { value: 'ja', labelKey: 'languageJapanese' },
  { value: 'hi', labelKey: 'languageHindi' },
  { value: 'fr', labelKey: 'languageFrench' },
  { value: 'zh', labelKey: 'languageChinese' }
];

const translations = {
  en: {
    brandTagline: 'Sustainable meals for remote communities',
    brandName: 'Smart Food Delivery',
    navSearch: 'Search',
    navCompare: 'Compare',
    navCheckout: 'Checkout',
    navTracking: 'Tracking',
    navReport: 'Report',
    navSettings: 'Settings',
    navAriaLabel: 'Primary navigation',
    homeTitle: 'Find nearby food suppliers',
    homeInstruction: 'Task 1: Use the filters to locate affordable, low-carbon options that deliver to your area.',
    searchLabel: 'Search by name or location',
    searchPlaceholder: "Try 'Outback' or 'Remote'",
    filtersAriaLabel: 'Search filters',
    priceLabel: 'Price band',
    priceAny: 'Any',
    priceLow: '$ - Lowest cost',
    priceMid: '$$ - Balanced',
    priceHigh: '$$$ - Premium',
    distanceLabel: 'Max distance (km)',
    surplusLabel: 'Show surplus food offers only',
    deliveryLabel: 'Delivery available',
    distanceValue: '{value} km',
    suppliersTitle: 'Suppliers near you',
    suppliersSubtitle: 'Tap a card to compare or add a community hamper to your cart.',
    compareTitle: 'Compare suppliers',
    compareInstruction: 'Task 2: Choose two suppliers to see how they differ in freshness, price, and emissions.',
    compareSupplierA: 'Supplier A',
    compareSupplierB: 'Supplier B',
    compareMetricHeading: 'Metric',
    compareMetricPrice: 'Price',
    compareMetricFreshness: 'Freshness score',
    compareMetricCO2: 'Delivery CO2 impact',
    compareMetricDistance: 'Distance',
    compareMetricSurplus: 'Surplus food',
    checkoutTitle: 'Review and place your order',
    checkoutInstruction: 'Task 3: Confirm the items in your hamper, then place the order to start tracking.',
    cartSummary: 'Cart summary',
    cartEmpty: 'Your hamper is empty. Add items from the search view.',
    cartAriaLabel: 'Cart contents',
    totalLabel: 'Total',
    deliveryPreferences: 'Delivery preferences',
    deliveryAriaLabel: 'Delivery preferences',
    deliveryWindow: 'Delivery window',
    deliveryWindowMorning: '11:00 - 13:00 (midday)',
    deliveryWindowAfternoon: '13:00 - 15:00 (afternoon)',
    deliveryWindowEvening: '17:00 - 19:00 (evening)',
    driverNote: 'Driver note',
    driverNotePlaceholder: 'Add directions or access notes',
    placeOrder: 'Place order',
    goToTracking: 'Go to tracking',
    trackingTitle: 'Track your delivery',
    trackingInstruction: 'Task 3 (continued): Follow the delivery stages to monitor when food arrives.',
    trackingRestart: 'Restart tracking demo',
    mapAriaLabel: 'Stylised delivery map showing the courier travelling from pickup to community drop-off',
    mapPickupTitle: 'Pickup hub',
    mapPickupSubtitle: 'Volunteers are packing the hamper here',
    mapDropoffTitle: 'Community drop-off',
    mapDropoffSubtitle: 'Shared cool locker close to your home',
    mapCourierLabel: 'Courier Jade',
    mapCourierStatusPickup: 'Heading to the pickup hub',
    mapCourierStatusDropoff: 'Next: delivering to your community drop-off',
    reportTitle: 'Savings & sustainability report',
    reportInstruction: 'Optional Task: Review your impact after ordering surplus community hampers.',
    reportSavingsTitle: 'Money saved',
    reportSavingsDetail: 'Compared to standard metropolitan deliveries.',
    reportCo2Title: 'CO2 avoided',
    reportCo2Detail: 'Estimated from lower delivery distances and surplus rescue.',
    reportMealsTitle: 'Meals rescued',
    reportMealsDetail: 'Surplus portions diverted from waste this month.',
    footerNote: 'INFO3315 Smart Food Delivery Prototype 路 Designed for remote community resilience',
    settingsTitle: 'Settings',
    settingsInstruction: 'Adjust theme, language, and preview mode for your study participants.',
    appearanceHeading: 'Appearance',
    appearanceDescription: 'Switch between day and night modes to test readability.',
    languageHeading: 'Language',
    languageDescription: 'Preview the interface in multiple languages.',
    languageLabel: 'Interface language',
    previewHeading: 'Mobile preview',
    previewDescription: 'Simulate the phone layout inside the browser.',
    surplusBadge: 'Surplus rescue',
    compareAction: 'Compare supplier',
    addToCart: 'Add hamper to cart',
    deliveryAvailable: 'Delivery available',
    pickupOnly: 'Pickup only',
    supplierPriceBand: 'Price band: {price}',
    supplierDistance: '{distance} km away',
    supplierFreshness: 'Freshness score: {freshness}/10',
    supplierCo2: 'Delivery CO2: {co2} kg',
    hamperMeta: 'Feeds {servings} 路 Saves {savings}',
    hamperAdded: 'Hamper added. Review the details, then place your order.',
    orderPlaced: 'Order placed! Tracking has started with a shared EV route.',
    cartItemMeta: '{servings} servings 路 Saves {savings} 路 CO2 avoided {co2}',
    removeItem: 'Remove',
    noMatches: 'No suppliers match your filters. Try widening the distance or price band.',
    yes: 'Yes',
    no: 'No',
    trackingPreparingTitle: 'Preparing hamper',
    trackingPreparingDetail: 'Volunteers are sorting surplus produce and packing your box.',
    trackingDriverTitle: 'Driver assigned',
    trackingDriverDetail: 'Jade (EV van) is collecting items from the supplier hub.',
    trackingEnrouteTitle: 'On the way',
    trackingEnrouteDetail: 'Shared route to your community hub. {distance} km remaining.',
    trackingDeliveredTitle: 'Delivered',
    trackingDeliveredDetail: 'Hamper left in the community cool locker. Enjoy!',
    themeSwitchToDark: 'Switch to night mode',
    themeSwitchToLight: 'Switch to day mode',
    mobileEnable: 'Enable mobile frame',
    mobileDisable: 'Disable mobile frame',
    languageEnglish: 'English',
    languageJapanese: 'Japanese',
    languageHindi: 'Hindi',
    languageFrench: 'French',
    languageChinese: 'Chinese',
    priceAverage: '{band} (avg ${average})',
    freshnessValue: '{value}/10',
    co2Value: '{value} kg'
  },
  ja: {
    brandTagline: '板缍姐椋浜灞俱',
    brandName: '广笺笺',
    navSearch: '妞绱',
    navCompare: '姣杓',
    navCheckout: '娉ㄦ纰鸿',
    navTracking: '舵',
    navReport: '笺',
    navSettings: '瑷瀹',
    navAriaLabel: '°ゃ炽层笺枫с',
    homeTitle: '杩椋渚绲',
    homeInstruction: '裤广1: ｃ裤笺浣裤ｃ姐т渚℃笺讳绱告瑕ゃ俱',
    searchLabel: '俱板ф绱',
    searchPlaceholder: '笺妞绱',
    filtersAriaLabel: '妞绱ｃ裤',
    priceLabel: '渚℃煎腐',
    priceAny: '广',
    priceLow: '$ - ',
    priceMid: '$$ - 妯婧',
    priceHigh: '$$$ - ',
    distanceLabel: '澶ц (km)',
    surplusLabel: '浣伴胯〃绀',
    deliveryLabel: '',
    suppliersTitle: '杩渚绲',
    suppliersSubtitle: '笺裤姣杓卞炽笺笺杩藉俱',
    compareTitle: '渚绲姣杓',
    compareInstruction: '裤广2: 2ゃ渚绲搞ч搴讳尽笺绘洪姣杓俱',
    compareSupplierA: '渚绲A',
    compareSupplierB: '渚绲B',
    compareMetricHeading: '妯',
    compareMetricPrice: '渚℃',
    compareMetricFreshness: '楫搴广炽',
    compareMetricCO2: 'CO2',
    compareMetricDistance: '璺',
    compareMetricSurplus: '浣伴',
    checkoutTitle: '娉ㄦ瀹广纰鸿纰哄',
    checkoutInstruction: '裤广3: 炽笺纰鸿娉ㄦ杩借贰濮俱',
    cartSummary: '笺姒瑕',
    cartEmpty: '笺绌恒с妞绱㈢婚杩藉',
    cartAriaLabel: '笺瀹',
    totalLabel: '瑷',
    deliveryPreferences: '瑷瀹',
    deliveryAriaLabel: '瑷瀹',
    deliveryWindow: '甯',
    deliveryWindowMorning: '11:00 - 13:00 ()',
    deliveryWindowAfternoon: '13:00 - 15:00 (寰)',
    deliveryWindowEvening: '17:00 - 19:00 (澶)',
    driverNote: '┿ゃ笺搞°',
    driverNotePlaceholder: 'ｇ怠浜ュ',
    placeOrder: '娉ㄦ纰哄',
    goToTracking: '舵',
    trackingTitle: '舵纰鸿',
    trackingInstruction: '裤广3: 广杩借贰扮纰鸿俱',
    trackingRestart: '杩借贰',
    mapAriaLabel: '°峰扮广炽ャｅ娓°稿妲瀛绀恒广裤ゃ┿ゃ恒板',
    mapPickupTitle: '枫',
    mapPickupSubtitle: 'с┿炽ｃ炽笺婧俱',
    mapDropoffTitle: '炽ャｅ娓°',
    mapDropoffSubtitle: '杩辨笺',
    mapCourierLabel: ' Jade',
    mapCourierStatusPickup: '枫稿ｃ俱',
    mapCourierStatusDropoff: '娆°炽ャｅ娓°扮广搁',
    reportTitle: '绡绱ㄣ点广ｃ笺',
    reportInstruction: '枫с: 浣般炽兼敞寰规纰鸿俱',
    reportSavingsTitle: '绡绱椤',
    reportSavingsDetail: '藉ㄩㄣ姣杓с',
    reportCo2Title: '娓CO2',
    reportCo2Detail: '璺㈤ㄤ版椿ㄣсㄨゃ',
    reportMealsTitle: '椋浜',
    reportMealsDetail: '浠寤妫浣伴般',
    footerNote: 'INFO3315 Smart Food Delivery 裤ゃ婚板搞ㄣ炽广瑷瑷',
    settingsTitle: '瑷瀹',
    settingsInstruction: '绌跺笺瑷瑾ャ笺瑾挎淬俱',
    appearanceHeading: '琛ㄧず笺',
    appearanceDescription: '瑾с广煎笺裤俱',
    languageHeading: '瑷瑾',
    languageDescription: 'ゃ炽裤笺с笺广瑜拌瑾х⒑瑾俱',
    languageLabel: '琛ㄧず瑷瑾',
    previewHeading: 'ゃャ',
    previewDescription: '┿跺с广笺┿宠〃绀恒枫ャ笺俱',
    surplusBadge: '浣伴',
    compareAction: '渚绲姣杓',
    addToCart: '炽笺笺杩藉',
    deliveryAvailable: '',
    pickupOnly: '',
    supplierPriceBand: '渚℃煎腐: {price}',
    supplierDistance: '{distance} km',
    supplierFreshness: '楫搴广炽: {freshness}/10',
    supplierCo2: 'CO2: {co2} kg',
    hamperMeta: '{servings}浜哄 路 {savings}绡绱',
    hamperAdded: '炽笺杩藉俱瀹广纰鸿娉ㄦ',
    orderPlaced: '娉ㄦ纰哄俱辨EV笺ч濮俱',
    cartItemMeta: '{servings}浜哄 路 {savings}绡绱 路 CO2娓 {co2}',
    removeItem: '',
    noMatches: '′欢涓淬渚绲俱璺渚℃煎腐搴',
    yes: '',
    no: '',
    trackingPreparingTitle: '炽兼涓',
    trackingPreparingDetail: '┿炽ｃ浣伴浠绠辫┌俱',
    trackingDriverTitle: '┿ゃ笺层褰',
    trackingDriverDetail: 'Jade锛EV筹渚绲ц风┿俱',
    trackingEnrouteTitle: '涓',
    trackingEnrouteDetail: '炽ャｃ稿ｃ俱娈{distance} km',
    trackingDeliveredTitle: '灞瀹浜',
    trackingDeliveredDetail: '卞疯点笺炽笺灞俱',
    themeSwitchToDark: 'ゃ笺裤',
    themeSwitchToLight: 'ゃ笺裤',
    mobileEnable: 'ゃ瑰',
    mobileDisable: 'ゃ″瑰',
    languageEnglish: '辫',
    languageJapanese: 'ユ瑾',
    languageHindi: '炽ｃ艰',
    languageFrench: '┿炽硅',
    languageChinese: '涓借',
    priceAverage: '{band} (骞冲 ${average})',
    freshnessValue: '{value}/10',
    co2Value: '{value} kg'
  },
  hi: {
    brandTagline: '啶啷啶班う啶班ぞ啶啶 啶膏ぎ啷啶啶距く啷啶 啶啷 啶侧た啶 啶啶苦啶距 啶啷啶啶 啶掂た啶むぐ啶',
    brandName: '啶膏啶啶距ぐ啷啶 啶啷啶 啶∴た啶侧啶掂ぐ啷',
    navSearch: '啶啷啶啷啶',
    navCompare: '啶む啶侧え啶',
    navCheckout: '啶啶班啶∴ぐ',
    navTracking: '啶啷啶班啶啶苦啶',
    navReport: '啶班た啶啷啶班啶',
    navSettings: '啶膏啶啶苦啶啷啶',
    navAriaLabel: '啶啷啶啷啶 啶ㄠ啶掂た啶啷啶多え',
    homeTitle: '啶ㄠた啶啶 啶啷 啶啶距う啷啶 啶啶啷啶班啶むた啶啶班啶むぞ 啶啷啶啷啶',
    homeInstruction: '啶啶距ぐ啷啶 1: 啶啶监た啶侧啶啶 啶啶 啶啶啶啷啶 啶啶班啷 啶膏じ啷啶む, 啶啶-啶啶距ぐ啷啶啶 啶∴た啶侧啶掂ぐ啷 啶掂た啶啶侧啶 啶啷啶啷啶啷',
    searchLabel: '啶ㄠぞ啶 啶啶 啶膏啶ムぞ啶 啶膏 啶啷啶啷啶',
    searchPlaceholder: "'啶啶啶啶啷啶' 啶啶 '啶班た啶啷啶' 啶むげ啶距ざ啷啶",
    filtersAriaLabel: '啶啷啶 啶啶监た啶侧啶啶',
    priceLabel: '啶啷啶侧啶 啶多啶班啶｀',
    priceAny: '啶膏き啷',
    priceLow: '$ - 啶啶苦か啶距く啶む',
    priceMid: '$$ - 啶膏啶む啶侧た啶',
    priceHigh: '$$$ - 啶啷啶班啶啶苦く啶',
    distanceLabel: '啶啶оた啶啶むぎ 啶啷啶班 (km)',
    surplusLabel: '啶啷啶掂げ 啶啶оた啶多啶 啶啷啶啶 啶啶苦啶距啶',
    deliveryLabel: '啶∴た啶侧啶掂ぐ啷 啶啶啶侧が啷啶',
    suppliersTitle: '啶啶啶啷 啶ㄠた啶啶 啶啷 啶啶啷啶班啶むた啶啶班啶むぞ',
    suppliersSubtitle: '啶む啶侧え啶 啶啶班え啷 啶啶 啶膏ぞ啶啷啶啶距く啶苦 啶灌啶啷啶啶 啶啷 啶啶距ぐ啷啶 啶啷啶 啶啷啶∴ぜ啶ㄠ 啶啷 啶侧た啶 啶啶距ぐ啷啶 啶啷啶ㄠ啶啷',
    compareTitle: '啶啶啷啶班啶むた啶啶班啶むぞ啶啶 啶啷 啶む啶侧え啶 啶啶班啶',
    compareInstruction: '啶啶距ぐ啷啶 2: 啶啷 啶啶啷啶班啶むた啶啶班啶むぞ 啶啷啶ㄠ啶 啶啶 啶啷啶啶, 啶むぞ啶啶啷 啶 啶啶む啶膏ぐ啷啶啶 啶む啶侧え啶 啶啶班啶啷',
    compareSupplierA: '啶啶啷啶班啶むた啶啶班啶むぞ A',
    compareSupplierB: '啶啶啷啶班啶むた啶啶班啶むぞ B',
    compareMetricHeading: '啶啶距お啶啶啶',
    compareMetricPrice: '啶啷啶侧啶',
    compareMetricFreshness: '啶むぞ啶啶啷 啶膏啶啷啶',
    compareMetricCO2: '啶∴た啶侧啶掂ぐ啷 CO2 啶啷啶班き啶距さ',
    compareMetricDistance: '啶啷啶班',
    compareMetricSurplus: '啶啶оた啶多啶 啶啷啶啶',
    checkoutTitle: '啶啶班啶∴ぐ 啶啷 啶膏ぎ啷啶啷啶粪ぞ 啶啶掂 啶啷啶粪啶啶',
    checkoutInstruction: '啶啶距ぐ啷啶 3: 啶灌啶啷啶啶 啶啷 啶膏ぎ啷啶啷啶粪ぞ 啶啶班啶, 啶啶苦ぐ 啶啶班啶∴ぐ 啶啶班啶 啶啶 啶啷啶班啶 啶啶班啶啷',
    cartSummary: '啶啶距ぐ啷啶 啶膏ぞ啶班ぞ啶啶',
    cartEmpty: '啶啶啶啶 啶灌啶啷啶啶 啶啶距げ啷 啶灌啷 啶啷啶 啶啷啶多啶 啶膏 啶掂じ啷啶む啶啶 啶啷啶∴ぜ啷啶啷',
    cartAriaLabel: '啶啶距ぐ啷啶 啶膏ぞ啶啶啷啶班',
    totalLabel: '啶啷啶',
    deliveryPreferences: '啶∴た啶侧啶掂ぐ啷 啶掂ぐ啷啶啶むぞ啶啶',
    deliveryAriaLabel: '啶∴た啶侧啶掂ぐ啷 啶掂ぐ啷啶啶むぞ啶啶',
    deliveryWindow: '啶∴た啶侧啶掂ぐ啷 啶膏ぎ啶',
    deliveryWindowMorning: '11:00 - 13:00 (啶啷啶啶灌ぐ)',
    deliveryWindowAfternoon: '13:00 - 15:00 (啶啷啶啶灌ぐ 啶啶距う)',
    deliveryWindowEvening: '17:00 - 19:00 (啶多ぞ啶)',
    driverNote: '啶∴啶班ぞ啶啶掂ぐ 啶ㄠ啶',
    driverNotePlaceholder: '啶ㄠた啶班啶啷啶 啶啶 啶啶灌啶啶 啶ㄠ啶 啶啷啶∴ぜ啷啶',
    placeOrder: '啶啶班啶∴ぐ 啶啶班啶',
    goToTracking: '啶啷啶班啶啶苦啶 啶啶 啶啶距啶',
    trackingTitle: '啶啶啶ㄠ 啶∴た啶侧啶掂ぐ啷 啶啷啶班啶 啶啶班啶',
    trackingInstruction: '啶啶距ぐ啷啶 3: 啶∴た啶侧啶掂ぐ啷 啶啷 啶啶班ぃ啷啶 啶啷 啶啷啶啷啶 啶啶 啶啶啶啶 啶啶 啶ㄠ啶监ぐ 啶班啷啶啷',
    trackingRestart: '啶啷啶班啶啶苦啶 啶∴啶啷 啶啷啶ㄠ 啶啷啶班ぞ啶班啶',
    mapAriaLabel: '啶多啶侧啶啶距ぐ 啶∴た啶侧啶掂ぐ啷 啶啶距え啶啶苦い啷啶 啶啶苦じ啶啷啶 啶啷啶班た啶啶 啶啷 啶啶苦啶啶 啶膏 啶膏ぞ啶啷啶啶距く啶苦 啶∴た啶侧啶掂ぐ啷 啶む 啶啶距い啷 啶啶苦啶距く啶 啶啶啶 啶灌',
    mapPickupTitle: '啶啶苦啶啶 啶啷啶啶啷啶',
    mapPickupSubtitle: '啶啶灌ぞ啶 啶膏啶掂く啶啶膏啶掂 啶灌啶啷啶啶 啶む啶啶距ぐ 啶啶 啶班す啷 啶灌啶',
    mapDropoffTitle: '啶膏ぎ啷啶啶距く 啶∴た啶侧啶掂ぐ啷 啶啶苦啶啷',
    mapDropoffSubtitle: '啶啶啶啷 啶啶距じ 啶膏啶ムた啶 啶膏ぞ啶啶 啶啷啶 啶侧啶啶',
    mapCourierLabel: '啶啷啶班た啶啶 啶啷啶',
    mapCourierStatusPickup: '啶啶苦啶啶 啶啷啶啶啷啶 啶啷 啶啶 啶啶 啶班す啷 啶灌',
    mapCourierStatusDropoff: '啶啶啶侧ぞ 啶啶班ぃ: 啶啶啶啷 啶膏ぎ啷啶啶距く 啶∴た啶侧啶掂ぐ啷 啶啶苦啶啷 啶啶 啶啶灌啶啶啶距え啶',
    reportTitle: '啶啶啶 啶啶 啶膏啶ムた啶班い啶 啶班た啶啷啶班啶',
    reportInstruction: '啶掂啶啶侧啶啶苦: 啶啶оた啶多啶 啶灌啶啷啶啶 啶啶班啶∴ぐ 啶啷 啶啶距う 啶啷啶班き啶距さ 啶啷啶啷啶啷',
    reportSavingsTitle: '啶啶啶距 啶啶 啶班ぞ啶多た',
    reportSavingsDetail: '啶啶距え啶 啶多す啶班 啶∴た啶侧啶掂ぐ啷 啶啷 啶む啶侧え啶距イ',
    reportCo2Title: '啶啶距げ啷 啶啶 CO2',
    reportCo2Detail: '啶啶 啶啷啶班 啶啶 啶啶оた啶多啶 啶啶啶 啶膏 啶啶ㄠ啶啶距え啶苦い啷',
    reportMealsTitle: '啶啶啶距 啶啶 啶啷啶啶',
    reportMealsDetail: '啶啶 啶啶灌啶ㄠ 啶啶班啶啶距う啷 啶膏 啶啶啶距 啶啶 啶啶оた啶多啶 啶啷啶啶ㄠイ',
    footerNote: 'INFO3315 Smart Food Delivery 啶啷啶班啶啷啶啶距啶 路 啶啷啶班じ啷啶 啶膏ぎ啷啶啶距く啷啶 啶啷 啶侧た啶 啶∴た啶啶监ぞ啶啶',
    settingsTitle: '啶膏啶啶苦啶啷啶',
    settingsInstruction: '啶啷啶班い啶苦き啶距啶苦く啷啶 啶啷 啶侧た啶 啶ム啶, 啶啶距し啶 啶啶 啶啷啶班啶掂ぞ啶掂げ啷啶啶 啶膏ぎ啶距く啷啶啶苦い 啶啶班啶啷',
    appearanceHeading: '啶班啶',
    appearanceDescription: '啶啶啶ㄠ啶啶むぞ 啶啶距啶啶ㄠ 啶灌啶む 啶啶苦え 啶啶 啶班ぞ啶 啶啷啶 啶啶啶侧啶啷',
    languageHeading: '啶啶距し啶',
    languageDescription: '啶啶啶啶班か啶监啶 啶啷 啶啶 啶啶距し啶距啶 啶啷啶 啶啷啶啷啶啷',
    languageLabel: '啶啶啶啶班か啶监啶 啶啶距し啶',
    previewHeading: '啶啷啶啶距啶 啶啷啶班啶掂ぞ啶掂げ啷啶啶',
    previewDescription: '啶啷啶班ぞ啶啶啶监ぐ 啶啷啶 啶啷啶 啶侧啶啶啶 啶啶 啶啶ㄠ啶啶班ぃ 啶啶班啶啷',
    surplusBadge: '啶啶оた啶多啶 啶啶啶距さ',
    compareAction: '啶啶啷啶班啶むた啶啶班啶むぞ 啶む啶侧え啶 啶啶班啶',
    addToCart: '啶灌啶啷啶啶 啶啶距ぐ啷啶 啶啷啶 啶啷啶∴ぜ啷啶',
    deliveryAvailable: '啶∴た啶侧啶掂ぐ啷 啶啶啶侧が啷啶',
    pickupOnly: '啶啷啶掂げ 啶啶苦啶啶',
    supplierPriceBand: '啶啷啶侧啶 啶多啶班啶｀: {price}',
    supplierDistance: '{distance} km 啶啷啶',
    supplierFreshness: '啶むぞ啶啶啷 啶膏啶啷啶: {freshness}/10',
    supplierCo2: '啶∴た啶侧啶掂ぐ啷 CO2: {co2} kg',
    hamperMeta: '{servings} 啶啶班啶膏啶 路 {savings} 啶啷 啶啶啶',
    hamperAdded: '啶灌啶啷啶啶 啶啷啶∴ぜ啶 啶啶啶距イ 啶掂た啶掂ぐ啶 啶啷啶啷啶 啶啶 啶啶班啶∴ぐ 啶啶班啶啷',
    orderPlaced: '啶啶班啶∴ぐ 啶灌 啶啶啶! 啶膏ぞ啶啶 EV 啶啶距ぐ啷啶 啶膏 啶啷啶班啶啶苦啶 啶多啶班 啶灌啶啷',
    cartItemMeta: '{servings} 啶啶班啶膏啶 路 {savings} 啶啷 啶啶啶 路 CO2 啶啷啶 {co2} 啶啶啷',
    removeItem: '啶灌啶距啶',
    noMatches: '啶啶啶啷 啶啶监た啶侧啶啶 啶膏 啶啷啶 啶啶啷啶班啶むた啶啶班啶むぞ 啶啷啶 啶ㄠす啷啶 啶啶 啶班す啶距イ 啶啷啶班 啶啶 啶啷啶侧啶 啶膏啶啶 啶啶⑧ぜ啶距啶啷',
    yes: '啶灌ぞ啶',
    no: '啶ㄠす啷啶',
    trackingPreparingTitle: '啶灌啶啷啶啶 啶む啶啶距ぐ 啶灌 啶班す啶',
    trackingPreparingDetail: '啶膏啶掂く啶啶膏啶掂 啶啶оた啶多啶 啶啷啶啶 啶啶距啶啶啶 啶啷啶 啶啶 啶班す啷 啶灌啶啷',
    trackingDriverTitle: '啶∴啶班ぞ啶啶掂ぐ 啶ㄠた啶啶',
    trackingDriverDetail: 'Jade (EV 啶掂啶) 啶啶啷啶班啶むた 啶啷啶啶啷啶 啶膏 啶掂じ啷啶む啶啶 啶啶啶 啶班す啷 啶灌啷',
    trackingEnrouteTitle: '啶班ぞ啶膏啶む 啶啷啶',
    trackingEnrouteDetail: '啶啶啶啷 啶膏ぞ啶啷啶啶距く啶苦 啶啷啶啶啷啶 啶啷 啶啶班イ {distance} km 啶啶距啷啷',
    trackingDeliveredTitle: '啶∴た啶侧啶掂ぐ 啶灌 啶啶啶',
    trackingDeliveredDetail: '啶膏ぎ啷啶啶距く 啶啷 啶啷啶 啶侧啶啶 啶啷啶 啶灌啶啷啶啶 啶班啶 啶啶啶 啶灌啷 啶啶ㄠ啶 啶侧啶!',
    themeSwitchToDark: '啶ㄠぞ啶啶 啶啷啶 啶啶距げ啷 啶啶班啶',
    themeSwitchToLight: '啶∴ 啶啷啶 啶啶距げ啷 啶啶班啶',
    mobileEnable: '啶啷啶啶距啶 啶啷啶班啶 啶膏啷啶粪ぎ 啶啶班啶',
    mobileDisable: '啶啷啶啶距啶 啶啷啶班啶 啶啶啷啶粪ぎ 啶啶班啶',
    languageEnglish: '啶啶啶啷啶班啶啶监',
    languageJapanese: '啶啶距お啶距え啷',
    languageHindi: '啶灌た啶ㄠ啶啷',
    languageFrench: '啶啶监啶班啶啶',
    languageChinese: '啶啷啶ㄠ',
    priceAverage: '{band} (啶啶膏い ${average})',
    freshnessValue: '{value}/10',
    co2Value: '{value} 啶啶苦啷啶班ぞ'
  },
  fr: {
    brandTagline: 'Des repas durables pour les communaut茅s isol茅es',
    brandName: 'Livraison Alimentaire Intelligente',
    navSearch: 'Recherche',
    navCompare: 'Comparer',
    navCheckout: 'Commande',
    navTracking: 'Suivi',
    navReport: 'Rapport',
    navSettings: 'Param猫tres',
    navAriaLabel: 'Navigation principale',
    homeTitle: 'Trouver des fournisseurs proches',
    homeInstruction: 'T芒che 1: utilisez les filtres pour trouver des options abordables et peu carbon茅es livr茅es chez vous.',
    searchLabel: 'Rechercher par nom ou lieu',
    searchPlaceholder: "Essayez 'Outback' ou 'Remote'",
    filtersAriaLabel: 'Filtres de recherche',
    priceLabel: 'Tranche de prix',
    priceAny: 'Toutes',
    priceLow: '$ - conomique',
    priceMid: '$$ - quilibr茅',
    priceHigh: '$$$ - Premium',
    distanceLabel: 'Distance maximale (km)',
    surplusLabel: 'Afficher uniquement les surplus',
    deliveryLabel: 'Livraison disponible',
    suppliersTitle: 'Fournisseurs  proximit茅',
    suppliersSubtitle: 'Touchez une carte pour comparer ou ajouter un panier solidaire.',
    compareTitle: 'Comparer les fournisseurs',
    compareInstruction: 'T芒che 2: choisissez deux fournisseurs pour comparer prix, fra卯cheur et 茅missions.',
    compareSupplierA: 'Fournisseur A',
    compareSupplierB: 'Fournisseur B',
    compareMetricHeading: 'Crit猫re',
    compareMetricPrice: 'Prix',
    compareMetricFreshness: 'Indice de fra卯cheur',
    compareMetricCO2: 'Impact CO2 livraison',
    compareMetricDistance: 'Distance',
    compareMetricSurplus: 'Surplus',
    checkoutTitle: 'V茅rifier et valider la commande',
    checkoutInstruction: 'T芒che 3: v茅rifiez votre panier puis validez pour lancer le suivi.',
    cartSummary: 'R茅capitulatif du panier',
    cartEmpty: 'Votre panier est vide. Ajoutez des articles depuis la recherche.',
    cartAriaLabel: 'Contenu du panier',
    totalLabel: 'Total',
    deliveryPreferences: 'Pr茅f茅rences de livraison',
    deliveryAriaLabel: 'Pr茅f茅rences de livraison',
    deliveryWindow: 'Cr茅neau de livraison',
    deliveryWindowMorning: '11:00 - 13:00 (midi)',
    deliveryWindowAfternoon: '13:00 - 15:00 (apr猫s-midi)',
    deliveryWindowEvening: '17:00 - 19:00 (soir)',
    driverNote: 'Note pour le livreur',
    driverNotePlaceholder: 'Ajouter des indications ou un code dacc猫s',
    placeOrder: 'Valider la commande',
    goToTracking: 'Aller au suivi',
    trackingTitle: 'Suivre la livraison',
    trackingInstruction: 'T芒che 3: suivez les 茅tapes de livraison pour conna卯tre larriv茅e.',
    trackingRestart: 'Relancer la d茅mo de suivi',
    mapAriaLabel: 'Carte stylis茅e montrant le coursier entre le point de retrait et le d茅p么t communautaire',
    mapPickupTitle: 'Point de retrait',
    mapPickupSubtitle: 'Les b茅n茅voles pr茅parent le panier ici',
    mapDropoffTitle: 'Point de d茅p么t communautaire',
    mapDropoffSubtitle: 'Casier r茅frig茅r茅 partag茅 pr猫s de chez vous',
    mapCourierLabel: 'Livreur Jade',
    mapCourierStatusPickup: 'En route vers le point de retrait',
    mapCourierStatusDropoff: 'tape suivante: d茅p么t au point communautaire',
    reportTitle: 'Rapport 茅conomies & durabilit茅',
    reportInstruction: 'Optionnel: mesurez votre impact apr猫s les paniers surplus.',
    reportSavingsTitle: 'conomies r茅alis茅es',
    reportSavingsDetail: 'Compar茅  une livraison urbaine standard.',
    reportCo2Title: 'CO2 茅vit茅',
    reportCo2Detail: 'Estimation gr芒ce aux distances r茅duites et aux surplus sauv茅s.',
    reportMealsTitle: 'Repas sauv茅s',
    reportMealsDetail: 'Portions de surplus d茅tourn茅es du gaspillage ce mois-ci.',
    footerNote: 'Prototype INFO3315 Smart Food Delivery 路 Con莽u pour la r茅silience des communaut茅s isol茅es',
    settingsTitle: 'Param猫tres',
    settingsInstruction: 'Ajustez th猫me, langue et aper莽u pour vos participants.',
    appearanceHeading: 'Apparence',
    appearanceDescription: 'Basculez entre mode jour et nuit pour tester la lisibilit茅.',
    languageHeading: 'Langue',
    languageDescription: 'Apercevez linterface en plusieurs langues.',
    languageLabel: 'Langue de linterface',
    previewHeading: 'Aper莽u mobile',
    previewDescription: 'Simulez laffichage t茅l茅phone dans le navigateur.',
    surplusBadge: 'Surplus',
    compareAction: 'Comparer ce fournisseur',
    addToCart: 'Ajouter le panier',
    deliveryAvailable: 'Livraison disponible',
    pickupOnly: 'Retrait uniquement',
    supplierPriceBand: 'Tranche de prix: {price}',
    supplierDistance: '{distance} km',
    supplierFreshness: 'Indice de fra卯cheur: {freshness}/10',
    supplierCo2: 'CO2 livraison: {co2} kg',
    hamperMeta: '{servings} portions 路 conomies {savings}',
    hamperAdded: 'Panier ajout茅. V茅rifiez les d茅tails puis validez.',
    orderPlaced: 'Commande valid茅e ! Le suivi EV partag茅 a commenc茅.',
    cartItemMeta: '{servings} portions 路 conomies {savings} 路 CO2 茅vit茅 {co2}',
    removeItem: 'Retirer',
    noMatches: 'Aucun fournisseur ne correspond. largissez la distance ou le prix.',
    yes: 'Oui',
    no: 'Non',
    trackingPreparingTitle: 'Pr茅paration du panier',
    trackingPreparingDetail: 'Les b茅n茅voles trient les surplus et emballent votre commande.',
    trackingDriverTitle: 'Livreur assign茅',
    trackingDriverDetail: 'Jade (fourgonnette EV) r茅cup猫re les produits au hub.',
    trackingEnrouteTitle: 'En route',
    trackingEnrouteDetail: 'Trajet partag茅 vers votre hub communautaire. {distance} km restants.',
    trackingDeliveredTitle: 'Livr茅',
    trackingDeliveredDetail: 'Panier d茅pos茅 dans le casier frigorifique communautaire. Bon app茅tit !',
    themeSwitchToDark: 'Passer en mode nuit',
    themeSwitchToLight: 'Passer en mode jour',
    mobileEnable: 'Activer le cadre mobile',
    mobileDisable: 'D茅sactiver le cadre mobile',
    languageEnglish: 'Anglais',
    languageJapanese: 'Japonais',
    languageHindi: 'Hindi',
    languageFrench: 'Fran莽ais',
    languageChinese: 'Chinois',
    priceAverage: '{band} (moy. ${average})',
    freshnessValue: '{value}/10',
    co2Value: '{value} kg'
  },
  zh: {
    brandTagline: '涓哄杩绀惧烘渚缁椁椋',
    brandName: '烘ч',
    navSearch: '绱',
    navCompare: '瀵规',
    navCheckout: '涓',
    navTracking: '杩借釜',
    navReport: 'ュ',
    navSettings: '璁剧疆',
    navAriaLabel: '涓诲艰',
    homeTitle: 'ユ鹃杩椋╀搴',
    homeInstruction: '浠诲1锛浣跨ㄧㄥ绘句环煎涓浣纰崇┿',
    searchLabel: '绉版浣缃绱',
    searchPlaceholder: '璇璇绱⑩OutbackRemote',
    filtersAriaLabel: '绱㈢',
    priceLabel: '浠锋煎洪',
    priceAny: '涓',
    priceLow: '$ - 缁娴',
    priceMid: '$$ - 涓',
    priceHigh: '$$$ - 楂绔',
    distanceLabel: '澶ц绂 (km)',
    surplusLabel: '浠剧ず浣椋',
    deliveryLabel: '渚',
    distanceValue: '{value} ',
    suppliersTitle: '杩渚搴',
    suppliersSubtitle: '归＄冲瀵规灏绀惧哄椁ヨ喘╄溅',
    compareTitle: '姣杈渚搴',
    compareInstruction: '浠诲2锛╀袱涓渚搴锛姣杈浠锋笺椴搴纰虫',
    compareSupplierA: '渚搴A',
    compareSupplierB: '渚搴B',
    compareMetricHeading: '',
    compareMetricPrice: '浠锋',
    compareMetricFreshness: '椴搴璇',
    compareMetricCO2: 'CO2',
    compareMetricDistance: '璺绂',
    compareMetricSurplus: '浣椋',
    checkoutTitle: '纭璁ゅ苟浜よ㈠',
    checkoutInstruction: '浠诲3锛纭璁ゅ椁瀹癸跺涓骞跺濮杩借釜',
    cartSummary: '璐╄溅瑕',
    cartEmpty: '璐╄溅涓虹┖锛璇蜂绱㈢㈡坊',
    cartAriaLabel: '璐╄溅瀹',
    totalLabel: '璁',
    deliveryPreferences: '濂',
    deliveryAriaLabel: '濂',
    deliveryWindow: '堕',
    deliveryWindowMorning: '11:00 - 13:00 (涓)',
    deliveryWindowAfternoon: '13:00 - 15:00 (涓)',
    deliveryWindowEvening: '17:00 - 19:00 ()',
    driverNote: '楠澶娉',
    driverNotePlaceholder: '娣诲璺绾挎ㄧ璇存',
    placeOrder: '浜よ㈠',
    goToTracking: '寰杩借釜',
    trackingTitle: '杩借釜',
    trackingInstruction: '浠诲3锛璺舵碉″拌揣堕淬',
    trackingRestart: '板濮杩借釜婕绀',
    mapAriaLabel: '灞绀洪浠椁瑰寰绀惧轰氦浠圭绀烘板',
    mapPickupTitle: '椁',
    mapPickupSubtitle: '蹇胯姝ｅㄨ寸濂椁',
    mapDropoffTitle: '绀惧轰氦浠',
    mapDropoffSubtitle: '杩ㄧ变韩锋',
    mapCourierLabel: ' Jade',
    mapCourierStatusPickup: '寰椁归涓',
    mapCourierStatusDropoff: '涓涓绔锛寰绀惧轰氦浠',
    reportTitle: '绾涓缁ュ',
    reportInstruction: '锛ョ璁㈣喘浣濂椁褰卞',
    reportSavingsTitle: '棰',
    reportSavingsDetail: '歌浜甯',
    reportCo2Title: '灏CO2',
    reportCo2Detail: '轰寸璺绂讳浣╃ㄧ浼扮',
    reportMealsTitle: '芥椁椋',
    reportMealsDetail: '垮娴璐圭浣浠芥般',
    footerNote: 'INFO3315 烘ч路╁杩绀惧洪ф',
    settingsTitle: '璁剧疆',
    settingsInstruction: '规涓璋翠富棰璇瑷涓棰瑙妯″',
    appearanceHeading: '澶瑙涓婚',
    appearanceDescription: 'ㄦラ翠澶存ā寮村浠ユ璇璇绘с',
    languageHeading: '㈣瑷',
    languageDescription: '浠ュ绉璇瑷棰瑙',
    languageLabel: '璇烽╄瑷',
    previewHeading: '洪瑙',
    previewDescription: 'ㄦ瑙ㄤ腑妯℃虹',
    surplusBadge: '浣浼',
    compareAction: '瀵规璇ヤ搴',
    addToCart: '娣诲濂椁拌喘╄溅',
    deliveryAvailable: '渚',
    pickupOnly: '浠',
    supplierPriceBand: '浠锋煎洪达{price}',
    supplierDistance: '璺绂 {distance} ',
    supplierFreshness: '椴搴锛{freshness}/10',
    supplierCo2: 'CO2锛{co2} ',
    hamperMeta: '渚 {servings} 浜 路  {savings}',
    hamperAdded: '宸插ュ椁锛璇风‘璁ゅ涓',
    orderPlaced: '璁㈠宸叉浜わ变韩EV璺绾垮濮',
    cartItemMeta: ' {servings} 浜轰唤 路  {savings} 路  {co2}',
    removeItem: '绉婚',
    noMatches: '娌℃绗绛′欢渚搴锛璇锋惧借绂绘浠锋笺',
    yes: '',
    no: '',
    trackingPreparingTitle: '澶濂椁',
    trackingPreparingDetail: '蹇胯姝ｅㄥｄ椋骞惰绠便',
    trackingDriverTitle: '楠宸插',
    trackingDriverDetail: 'Jade锛靛ㄨ揣杞锛姝ｅ寰渚搴涓蹇璐с',
    trackingEnrouteTitle: '涓',
    trackingEnrouteDetail: '姝ｅ寰绀惧洪┛绔锛╀ {distance} ',
    trackingDeliveredTitle: '瀹',
    trackingDeliveredDetail: '濂椁宸叉惧ョぞ哄锋锛璇峰跺ㄣ',
    themeSwitchToDark: '㈠板存ā寮',
    themeSwitchToLight: '㈠版ラ存ā寮',
    mobileEnable: '寮哄妗',
    mobileDisable: '抽哄妗',
    languageEnglish: '辫',
    languageJapanese: 'ヨ',
    languageHindi: '板拌',
    languageFrench: '娉璇',
    languageChinese: '涓',
    priceAverage: '{band}锛骞冲 ${average}锛',
    freshnessValue: '{value}/10',
    co2Value: '{value} '
  }
};

const trackingStages = [
  { id: 'preparing', titleKey: 'trackingPreparingTitle', detailKey: 'trackingPreparingDetail' },
  { id: 'driver', titleKey: 'trackingDriverTitle', detailKey: 'trackingDriverDetail' },
  { id: 'enroute', titleKey: 'trackingEnrouteTitle', detailKey: 'trackingEnrouteDetail' },
  { id: 'delivered', titleKey: 'trackingDeliveredTitle', detailKey: 'trackingDeliveredDetail' }
];

const localeLangMap = { zh: 'zh-Hans', ja: 'ja', hi: 'hi', fr: 'fr', en: 'en' };
const trackingEnrouteRemaining = '2.4';

const state = {
  activeView: 'home-view',
  cart: [],
  trackingTimer: null,
  trackingIndex: 0,
  orderPlaced: false,
  totals: {
    savings: 0,
    co2Saved: 0,
    meals: 0
  },
  theme: 'light',
  language: 'en',
  mobilePreview: false,
  filteredSuppliers: suppliers.slice()
};

const elements = {};

document.addEventListener('DOMContentLoaded', init);

function init() {
  cacheElements();
  bindNavigation();
  bindFilters();
  bindCheckout();
  bindTrackingControls();
  bindSettings();
  renderSupplierFilters();
  state.filteredSuppliers = suppliers.slice();
  handleFilterChange();
  populateComparisonSelectors();
  updateComparison();
  applyTheme();
  applyMobilePreview();
  applyTranslations();
  switchView(state.activeView);
}

function cacheElements() {
  elements.phoneFrame = document.getElementById('phone-frame');
  elements.phoneScreen = document.querySelector('.phone-screen');
  elements.phoneContent = document.querySelector('.phone-content');
  elements.app = document.getElementById('app');
  elements.navButtons = Array.from(document.querySelectorAll('.nav-btn'));
  elements.views = Array.from(document.querySelectorAll('.view'));
  elements.searchInput = document.getElementById('search-input');
  elements.priceFilter = document.getElementById('price-filter');
  elements.distanceFilter = document.getElementById('distance-filter');
  elements.distanceOutput = document.getElementById('distance-output');
  elements.surplusToggle = document.getElementById('surplus-toggle');
  elements.deliveryToggle = document.getElementById('delivery-toggle');
  elements.supplierGrid = document.getElementById('supplier-grid');
  elements.compareA = document.getElementById('compare-a');
  elements.compareB = document.getElementById('compare-b');
  elements.compareNameA = document.getElementById('compare-name-a');
  elements.compareNameB = document.getElementById('compare-name-b');
  elements.compareMetrics = {
    priceA: document.querySelector('[data-metric="price-a"]'),
    priceB: document.querySelector('[data-metric="price-b"]'),
    freshnessA: document.querySelector('[data-metric="freshness-a"]'),
    freshnessB: document.querySelector('[data-metric="freshness-b"]'),
    co2A: document.querySelector('[data-metric="co2-a"]'),
    co2B: document.querySelector('[data-metric="co2-b"]'),
    distanceA: document.querySelector('[data-metric="distance-a"]'),
    distanceB: document.querySelector('[data-metric="distance-b"]'),
    surplusA: document.querySelector('[data-metric="surplus-a"]'),
    surplusB: document.querySelector('[data-metric="surplus-b"]')
  };
  elements.cartList = document.getElementById('cart-list');
  elements.cartEmpty = document.getElementById('cart-empty');
  elements.cartTotal = document.getElementById('cart-total');
  elements.placeOrder = document.getElementById('place-order');
  elements.orderStatus = document.getElementById('order-status');
  elements.goToTracking = document.getElementById('go-to-tracking');
  elements.reportSavings = document.getElementById('report-savings');
  elements.reportCo2 = document.getElementById('report-co2');
  elements.reportMeals = document.getElementById('report-meals');
  elements.trackingSteps = document.getElementById('tracking-steps');
  elements.progressIndicator = document.getElementById('progress-indicator');
  elements.resetTracking = document.getElementById('reset-tracking');
  elements.themeToggle = document.getElementById('theme-toggle');
  elements.languageSelect = document.getElementById('language-select');
  elements.mobileToggle = document.getElementById('mobile-toggle');
}

function bindNavigation() {
  elements.navButtons.forEach((button) => {
    button.addEventListener('click', () => {
      const target = button.dataset.target;
      switchView(target);
    });
  });
}

function bindFilters() {
  if (elements.searchInput) {
    elements.searchInput.addEventListener('input', handleFilterChange);
  }
  if (elements.priceFilter) {
    elements.priceFilter.addEventListener('change', handleFilterChange);
  }
  if (elements.distanceFilter) {
    elements.distanceFilter.addEventListener('input', () => {
      updateDistanceOutput();
      handleFilterChange();
    });
  }
  if (elements.surplusToggle) {
    elements.surplusToggle.addEventListener('change', handleFilterChange);
  }
  if (elements.deliveryToggle) {
    elements.deliveryToggle.addEventListener('change', handleFilterChange);
  }
}

function bindCheckout() {
  if (elements.placeOrder) {
    elements.placeOrder.addEventListener('click', handlePlaceOrder);
  }
  if (elements.goToTracking) {
    elements.goToTracking.addEventListener('click', () => {
      switchView('tracking-view');
    });
  }
}

function bindTrackingControls() {
  if (elements.resetTracking) {
    elements.resetTracking.addEventListener('click', () => {
      resetTracking();
      startTracking();
    });
  }
}

function bindSettings() {
  if (elements.themeToggle) {
    elements.themeToggle.addEventListener('click', toggleTheme);
  }
  if (elements.languageSelect) {
    elements.languageSelect.addEventListener('change', handleLanguageChange);
  }
  if (elements.mobileToggle) {
    elements.mobileToggle.addEventListener('click', toggleMobilePreview);
  }
}

function switchView(targetId) {
  state.activeView = targetId;
  elements.views.forEach((section) => {
    const isTarget = section.id === targetId;
    section.hidden = !isTarget;
    section.classList.toggle('active', isTarget);
  });
  elements.navButtons.forEach((button) => {
    button.classList.toggle('active', button.dataset.target === targetId);
  });
  window.requestAnimationFrame(() => {
    if (elements.app) {
      elements.app.focus();
    }
  });
  if (targetId === 'tracking-view' && state.orderPlaced) {
    startTracking();
  }
}

function renderSupplierFilters() {
  updateDistanceOutput();
}

function updateDistanceOutput() {
  if (!elements.distanceOutput || !elements.distanceFilter) {
    return;
  }
  elements.distanceOutput.textContent = t('distanceValue', { value: elements.distanceFilter.value });
}

function handleFilterChange() {
  if (!elements.searchInput) {
    return;
  }
  updateDistanceOutput();
  const query = elements.searchInput.value.trim().toLowerCase();
  const price = elements.priceFilter ? elements.priceFilter.value : 'all';
  const maxDistance = elements.distanceFilter ? Number(elements.distanceFilter.value) : Number.POSITIVE_INFINITY;
  const surplusOnly = elements.surplusToggle ? elements.surplusToggle.checked : false;
  const deliveryOnly = elements.deliveryToggle ? elements.deliveryToggle.checked : false;

  const filtered = suppliers.filter((supplier) => {
    const matchesQuery = supplier.name.toLowerCase().includes(query) || supplier.location.toLowerCase().includes(query);
    const matchesPrice = price === 'all' || supplier.price === price;
    const matchesDistance = supplier.distance <= maxDistance;
    const matchesSurplus = !surplusOnly || supplier.surplus;
    const matchesDelivery = !deliveryOnly || supplier.delivery;
    return matchesQuery && matchesPrice && matchesDistance && matchesSurplus && matchesDelivery;
  });

  state.filteredSuppliers = filtered;
  renderSuppliers(filtered);
}

function renderSuppliers(list) {
  if (!elements.supplierGrid) {
    return;
  }

  if (!list || list.length === 0) {
    elements.supplierGrid.innerHTML = `<p class="empty-state">${t('noMatches')}</p>`;
    return;
  }

  const markup = list
    .map((supplier) => {
      const badge = supplier.surplus ? `<span class="badge">${t('surplusBadge')}</span>` : '';
      const deliveryText = supplier.delivery ? t('deliveryAvailable') : t('pickupOnly');
      const compareLabel = t('compareAction');
      const addLabel = t('addToCart');
      const item = supplier.items[0];
      const priceText = `$${item.price.toFixed(2)}`;
      const savingsText = `$${item.savings.toFixed(2)}`;
      const hamperMeta = t('hamperMeta', {
        price: priceText,
        servings: item.servings,
        savings: savingsText
      });
      const supplierMeta = [
        t('supplierPriceBand', { price: supplier.price }),
        t('supplierDistance', { distance: supplier.distance }),
        t('supplierFreshness', { freshness: supplier.freshness }),
        t('supplierCo2', { co2: supplier.co2 })
      ]
        .map((content) => `<span>${content}</span>`)
        .join('');

      return `
        <article class="supplier-card" data-supplier="${supplier.id}">
          <div class="supplier-header">
            <div>
              <h3 class="supplier-name">${supplier.name}</h3>
              <p class="supplier-location">${supplier.location}</p>
            </div>
            ${badge}
          </div>
          <div class="supplier-body">
            <p class="supplier-description">${supplier.description}</p>
            <div class="supplier-meta">${supplierMeta}</div>
          </div>
          <div class="supplier-content">
            <div class="hamper-summary">
              <h4>${item.name}</h4>
              <p>${item.notes}</p>
              <p><strong>${priceText}</strong> &middot; ${hamperMeta}</p>
            </div>
            <div class="supplier-actions">
              <div class="action-row">
                <button class="primary-btn" data-action="add-cart" data-supplier="${supplier.id}" data-item="${item.id}">${addLabel}</button>
                <button class="secondary-btn" data-action="compare" data-supplier="${supplier.id}">${compareLabel}</button>
              </div>
              <p class="supplier-footnote">${deliveryText}</p>
            </div>
          </div>
        </article>
      `;
    })
    .join('');

  elements.supplierGrid.innerHTML = markup;

  elements.supplierGrid.querySelectorAll('[data-action="add-cart"]').forEach((button) => {
    button.addEventListener('click', (event) => {
      const supplierId = event.currentTarget.dataset.supplier;
      const itemId = event.currentTarget.dataset.item;
      addToCart(supplierId, itemId);
    });
  });

  elements.supplierGrid.querySelectorAll('[data-action="compare"]').forEach((button) => {
    button.addEventListener('click', (event) => {
      const supplierId = event.currentTarget.dataset.supplier;
      prepareComparison(supplierId);
    });
  });
}

function addToCart(supplierId, itemId) {
  const supplier = suppliers.find((entry) => entry.id === supplierId);
  const item = supplier ? supplier.items.find((entry) => entry.id === itemId) : null;
  if (!supplier || !item) {
    return;
  }

  state.cart.push({
    supplierId,
    itemId,
    supplierName: supplier.name,
    price: item.price,
    servings: item.servings,
    savings: item.savings,
    co2Saved: item.co2Saved,
    meals: item.meals
  });

  updateCartUI();
  switchView('checkout-view');
  if (elements.orderStatus) {
    elements.orderStatus.textContent = t('hamperAdded');
  }
}

function updateCartUI() {
  if (!elements.cartList || !elements.cartTotal || !elements.cartEmpty || !elements.placeOrder) {
    return;
  }

  const total = state.cart.reduce((sum, entry) => sum + entry.price, 0);

  if (state.cart.length === 0) {
    elements.cartList.innerHTML = '';
    elements.cartEmpty.hidden = false;
    elements.placeOrder.disabled = true;
    state.orderPlaced = false;
    if (elements.goToTracking) {
      elements.goToTracking.hidden = true;
    }
    if (elements.orderStatus) {
      elements.orderStatus.textContent = '';
    }
  } else {
    const markup = state.cart
      .map((entry, index) => {
        const savingsText = `$${entry.savings.toFixed(2)}`;
        const co2Text = `${entry.co2Saved.toFixed(1)} kg`;
        const meta = t('cartItemMeta', {
          servings: entry.servings,
          savings: savingsText,
          co2: co2Text
        });
        return `
          <li class="cart-item">
            <div class="cart-item-info">
              <strong>${entry.supplierName}</strong>
              <span>${meta}</span>
            </div>
            <div class="cart-item-actions">
              <span>$${entry.price.toFixed(2)}</span>
              <button class="ghost-btn" type="button" data-index="${index}">${t('removeItem')}</button>
            </div>
          </li>
        `;
      })
      .join('');

    elements.cartList.innerHTML = markup;
    elements.cartEmpty.hidden = true;
    elements.placeOrder.disabled = false;

    elements.cartList.querySelectorAll('[data-index]').forEach((button) => {
      button.addEventListener('click', (event) => {
        const itemIndex = Number(event.currentTarget.dataset.index);
        removeCartItem(itemIndex);
      });
    });
  }

  elements.cartTotal.textContent = `$${total.toFixed(2)}`;
  state.totals.savings = state.cart.reduce((sum, entry) => sum + entry.savings, 0);
  state.totals.co2Saved = state.cart.reduce((sum, entry) => sum + entry.co2Saved, 0);
  state.totals.meals = state.cart.reduce((sum, entry) => sum + entry.meals, 0);
  updateReport();
}

function removeCartItem(index) {
  state.cart.splice(index, 1);
  updateCartUI();
}

function handlePlaceOrder() {
  if (!elements.placeOrder || state.cart.length === 0) {
    return;
  }

  state.orderPlaced = true;
  elements.placeOrder.disabled = true;
  if (elements.orderStatus) {
    elements.orderStatus.textContent = t('orderPlaced');
  }
  if (elements.goToTracking) {
    elements.goToTracking.hidden = false;
  }
}

function populateComparisonSelectors() {
  if (!elements.compareA || !elements.compareB) {
    return;
  }
  const options = suppliers
    .map((supplier) => `<option value="${supplier.id}">${supplier.name}</option>`)
    .join('');
  elements.compareA.innerHTML = options;
  elements.compareB.innerHTML = options;
  if (suppliers.length > 0) {
    elements.compareA.selectedIndex = 0;
  }
  if (suppliers.length > 1) {
    elements.compareB.selectedIndex = 1;
  }
  elements.compareA.addEventListener('change', updateComparison);
  elements.compareB.addEventListener('change', updateComparison);
}

function prepareComparison(supplierId) {
  if (!elements.compareA || !elements.compareB) {
    return;
  }
  const currentA = elements.compareA.value;
  const currentB = elements.compareB.value;
  if (supplierId === currentA || supplierId === currentB) {
    switchView('compare-view');
    updateComparison();
    return;
  }
  elements.compareB.value = supplierId;
  switchView('compare-view');
  updateComparison();
}

function updateComparison() {
  if (!elements.compareA || !elements.compareB) {
    return;
  }
  const supplierA = suppliers.find((entry) => entry.id === elements.compareA.value) || suppliers[0];
  const supplierB = suppliers.find((entry) => entry.id === elements.compareB.value) || suppliers[1];
  if (!supplierA || !supplierB) {
    return;
  }
  if (elements.compareNameA) {
    elements.compareNameA.textContent = supplierA.name;
  }
  if (elements.compareNameB) {
    elements.compareNameB.textContent = supplierB.name;
  }
  const averageA = supplierA.averageBasket.toFixed(2);
  const averageB = supplierB.averageBasket.toFixed(2);
  elements.compareMetrics.priceA.textContent = t('priceAverage', {
    band: supplierA.price,
    average: averageA
  });
  elements.compareMetrics.priceB.textContent = t('priceAverage', {
    band: supplierB.price,
    average: averageB
  });
  elements.compareMetrics.freshnessA.textContent = t('freshnessValue', { value: supplierA.freshness });
  elements.compareMetrics.freshnessB.textContent = t('freshnessValue', { value: supplierB.freshness });
  elements.compareMetrics.co2A.textContent = t('co2Value', { value: supplierA.co2 });
  elements.compareMetrics.co2B.textContent = t('co2Value', { value: supplierB.co2 });
  elements.compareMetrics.distanceA.textContent = t('distanceValue', { value: supplierA.distance });
  elements.compareMetrics.distanceB.textContent = t('distanceValue', { value: supplierB.distance });
  elements.compareMetrics.surplusA.textContent = supplierA.surplus ? t('yes') : t('no');
  elements.compareMetrics.surplusB.textContent = supplierB.surplus ? t('yes') : t('no');
}

function startTracking() {
  resetTracking();
  state.trackingIndex = 0;
  updateTrackingUI();
  state.trackingTimer = window.setInterval(() => {
    state.trackingIndex += 1;
    if (state.trackingIndex >= trackingStages.length) {
      clearInterval(state.trackingTimer);
      state.trackingTimer = null;
      state.trackingIndex = trackingStages.length - 1;
    }
    updateTrackingUI();
  }, 3000);
}

function resetTracking() {
  if (state.trackingTimer) {
    clearInterval(state.trackingTimer);
    state.trackingTimer = null;
  }
  state.trackingIndex = 0;
  updateTrackingUI();
}

function renderTrackingSteps() {
  if (!elements.trackingSteps) {
    return;
  }
  const markup = trackingStages
    .map((stage) => {
      const detail = stage.detailKey === 'trackingEnrouteDetail'
        ? t(stage.detailKey, { distance: trackingEnrouteRemaining })
        : t(stage.detailKey);
      return `
        <li class="tracking-step" data-stage="${stage.id}">
          <span>${t(stage.titleKey)}</span>
          <span class="tracking-detail">${detail}</span>
        </li>
      `;
    })
    .join('');
  elements.trackingSteps.innerHTML = markup;
}

function updateTrackingUI() {
  if (!elements.trackingSteps || !elements.progressIndicator) {
    return;
  }
  const steps = Array.from(elements.trackingSteps.querySelectorAll('.tracking-step'));
  steps.forEach((step, index) => {
    step.classList.toggle('active', index <= state.trackingIndex);
  });
  const progress = (state.trackingIndex / (trackingStages.length - 1)) * 100;
  elements.progressIndicator.style.width = `${progress}%`;
}

function updateReport() {
  if (elements.reportSavings) {
    elements.reportSavings.textContent = `$${state.totals.savings.toFixed(2)}`;
  }
  if (elements.reportCo2) {
    elements.reportCo2.textContent = `${state.totals.co2Saved.toFixed(1)} kg`;
  }
  if (elements.reportMeals) {
    elements.reportMeals.textContent = `${state.totals.meals}`;
  }
}

function applyTheme() {
  document.body.dataset.theme = state.theme;
  updateThemeToggleLabel();
}

function toggleTheme() {
  state.theme = state.theme === 'light' ? 'dark' : 'light';
  applyTheme();
}

function updateThemeToggleLabel() {
  if (!elements.themeToggle) {
    return;
  }
  elements.themeToggle.textContent = state.theme === 'light' ? t('themeSwitchToDark') : t('themeSwitchToLight');
  elements.themeToggle.setAttribute('aria-pressed', state.theme === 'dark');
}

function applyMobilePreview() {
  elements.phoneScreen = document.querySelector('.phone-screen');
  elements.phoneContent = document.querySelector('.phone-content');
  document.body.classList.toggle('mobile-preview', state.mobilePreview);
  if (elements.phoneFrame) {
    elements.phoneFrame.scrollTop = 0;
  }
  if (elements.phoneContent) {
    elements.phoneContent.scrollTop = 0;
  }
  if (elements.phoneScreen) {
    elements.phoneScreen.scrollTop = 0;
  }
  updateMobileToggleLabel();
}

function toggleMobilePreview() {
  state.mobilePreview = !state.mobilePreview;
  applyMobilePreview();
}

function updateMobileToggleLabel() {
  if (!elements.mobileToggle) {
    return;
  }
  elements.mobileToggle.textContent = state.mobilePreview ? t('mobileDisable') : t('mobileEnable');
  elements.mobileToggle.setAttribute('aria-pressed', state.mobilePreview);
}

function renderLanguageOptions() {
  if (!elements.languageSelect) {
    return;
  }
  const options = languageOptions
    .map((option) => `<option value="${option.value}">${t(option.labelKey)}</option>`)
    .join('');
  elements.languageSelect.innerHTML = options;
  elements.languageSelect.value = state.language;
}

function handleLanguageChange(event) {
  const newLanguage = event.target.value;
  if (!translations[newLanguage]) {
    return;
  }
  state.language = newLanguage;
  applyTranslations();
}

function applyTranslations() {
  document.documentElement.lang = localeLangMap[state.language] || state.language;

  document.querySelectorAll('[data-i18n]').forEach((element) => {
    const key = element.getAttribute('data-i18n');
    element.textContent = t(key);
  });

  document.querySelectorAll('[data-i18n-placeholder]').forEach((element) => {
    const key = element.getAttribute('data-i18n-placeholder');
    element.setAttribute('placeholder', t(key));
  });

  document.querySelectorAll('[data-i18n-aria-label]').forEach((element) => {
    const key = element.getAttribute('data-i18n-aria-label');
    element.setAttribute('aria-label', t(key));
  });

  elements.phoneScreen = document.querySelector('.phone-screen');
  elements.phoneContent = document.querySelector('.phone-content');

  renderLanguageOptions();
  updateDistanceOutput();
  renderSuppliers(state.filteredSuppliers);
  updateCartUI();
  renderTrackingSteps();
  updateTrackingUI();
  updateComparison();
  updateThemeToggleLabel();
  updateMobileToggleLabel();
}

function t(key, vars = {}) {
  const dictionary = translations[state.language] || translations.en;
  let template = dictionary[key];
  if (template === undefined) {
    template = translations.en[key] || '';
  }
  return template.replace(/\{(.*?)\}/g, (match, token) => {
    return Object.prototype.hasOwnProperty.call(vars, token) ? vars[token] : match;
  });
}
</script>
  </body>
</html>
